if(selectModal){let e="";for(;isNaN(parseInt(e));)e=prompt("请输入分数加成数字","1").trim();extraScore=parseInt(e)}window.__require=function c(a,i,r){function s(t,e){if(!i[t]){if(!a[t]){var n=(n=t.split("/"))[n.length-1];if(!a[n]){var o="function"==typeof __require&&__require;if(!e&&o)return o(n,!0);if(l)return l(n,!0);throw new Error("Cannot find module '"+t+"'")}}n=i[t]={exports:{}};a[t][0].call(n.exports,function(e){return s(a[t][1][e]||e)},n,n.exports,c,a,i,r)}return i[t].exports}for(var l="function"==typeof __require&&__require,e=0;e<r.length;e++)s(r[e]);return s}({AddScore:[function(e,t,n){"use strict";cc._RF.push(t,"68076EFnW1JeZUzdnbOOKNr","AddScore");var o,c=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var c,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;0<=r;r--)(c=e[r])&&(i=(a<3?c(i):3<a?c(t,n,i):c(t,n))||i);return 3<a&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("../Common/Utils"),t=cc._decorator,e=t.ccclass,t=t.property,e=(i=cc.Component,c(s,i),s.prototype.SetScore=function(e){this.label.string=e,this.scheduleOnce(function(){r.default.CenteredUi(0,this.addSign,this.label.node)},0)},a([t(cc.Node)],s.prototype,"addSign",void 0),a([t(cc.Label)],s.prototype,"label",void 0),a([e],s));function s(){var e=null!==i&&i.apply(this,arguments)||this;return e.addSign=null,e.label=null,e}n.default=e,cc._RF.pop()},{"../Common/Utils":"Utils"}],AdjusWithHeight:[function(e,t,n){"use strict";cc._RF.push(t,"0fe07DOz8VMcYKlDM2VxHhQ","AdjusWithHeight");var o,c=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var c,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;0<=r;r--)(c=e[r])&&(i=(a<3?c(i):3<a?c(t,n,i):c(t,n))||i);return 3<a&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i,r=cc.Enum({TOP:0,BOTTOM:1}),s=cc._decorator,t=s.ccclass,s=s.property,t=(i=cc.Component,c(l,i),l.prototype.onLoad=function(){var e=this.type==r.TOP?cc.winSize.height/2:-cc.winSize.height/2;this.node.y=e+this.offset},a([s({type:cc.Enum(r),displayName:"AdjustType"})],l.prototype,"type",void 0),a([s],l.prototype,"offset",void 0),a([t],l));function l(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=r.TOP,e.offset=0,e}n.default=t,cc._RF.pop()},{}],AniTools:[function(e,t,n){"use strict";cc._RF.push(t,"f05dbksdAdHtpW4ZpV1zW/T","AniTools");t={doLabStrAni:function(e,t,n){e.node.stopAllActions(),e.string="";var o=t.split(""),c=0,n=n/o.length;e.node.runAction(cc.sequence(cc.callFunc(function(){e.string=e.string+o[c],c++}),cc.delayTime(n)).repeat(o.length))},gunNumLabAni:function(e,t){var n,o,c=parseInt(e.string);t!=c&&(n=0,o=50<=t-c?50:t-c,e.node.runAction(cc.sequence(cc.callFunc(function(){o-1<=n?e.string=t:(c++,e.string=c),n++}),cc.delayTime(.02)).repeat(o)))},openUIAni:function(e,t,n,o){e.opacity=0,t.scale=0,e.runAction(cc.fadeTo(n,100)),t.runAction(cc.sequence(cc.scaleTo(n,1).easing(cc.easeBackOut()),cc.callFunc(o)))},closeUIAni:function(e,t,n,o){e.runAction(cc.fadeOut(n)),t.runAction(cc.sequence(cc.scaleTo(n,0).easing(cc.easeBackIn()),cc.callFunc(o)))},fireColorArr:["#F5CD4D","#F77986","#D0F057","#7ACCE8","#E365EE"],fireworksAni:function(e,t,n,o){for(var c=0;c<t;c++){var a=ToolsJs.newSprite("fire"+this.returnRanNum(1,4));a.scale=.3+.5*Math.random(),a.position=n,a.color=cc.color(this.fireColorArr[this.returnRanNum(0,this.fireColorArr.length-1)]),e.addChild(a,88);var i=this.returnRanNum(o-15,o+15),r=this.returnRanNum(300,1e3);this.fireObjAni(a,i,r,350,.005*c)}},fireObjAni:function(e,t,n,o){var c=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=.1+.5*Math.random();e.runAction(cc.rotateBy(a,this.returnRanNum(-360,360)).repeatForever());t=cc.misc.degreesToRadians(t),t=cc.v2(Math.cos(t)*n,Math.sin(t)*n),o=n/o;e.runAction(cc.sequence(cc.delayTime(c),cc.jumpBy(o,cc.v2(1.5*t.x,0),n,1),cc.removeSelf(!0)))},bombObjAni:function(e,t,n,o,c,a){t=t||this.returnRanNum(-180,180);t=cc.misc.degreesToRadians(t),t=cc.v2(Math.cos(t)*n,Math.sin(t)*n),o=n/o,c=c?0:e.scale,a=a?0:255;e.runAction(cc.sequence(cc.spawn(cc.scaleTo(.1+o,c),cc.moveBy(o,t).easing(cc.easeQuadraticActionOut()),cc.fadeTo(.1+o,a)),cc.fadeOut(.1),cc.removeSelf(!0)))},playAni:function(e,t){e.getComponent(cc.Animation).play(t)},stopAni:function(e,t){e.getComponent(cc.Animation).stop(t)},addNodeAni:function(e,t,n,o,c,a,i){for(var e=e.getComponent(cc.Animation),r=[],s=o;s<=c;s++){var l=new cc.SpriteFrame(cc.url.raw("resources/"+t+s+".png"));r.push(l)}o=cc.AnimationClip.createWithSpriteFrames(r,5);o.name=n,o.speed=i,o.wrapMode=a?cc.WrapMode.Loop:cc.WrapMode.Normal,e.addClip(o)},returnRanNum:function(e,t){return e+Math.floor(Math.random()*(t-e+1))}};window.AniTools=t,cc._RF.pop()},{}],AudioManager:[function(e,t,n){"use strict";cc._RF.push(t,"3db2d9MuTtO8JRQKnPm9kfu","AudioManager");var o,c=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var c,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;0<=r;r--)(c=e[r])&&(i=(a<3?c(i):3<a?c(t,n,i):c(t,n))||i);return 3<a&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i,r,s=cc._decorator,t=s.ccclass,s=s.property,t=(i=cc.Component,c(l,i),(r=l).prototype.onLoad=function(){null!=r.Instance&&r.Instance.destroy(),r.Instance=this},l.prototype.Play=function(e,t,n){cc.audioEngine.play(this.audioClip[e],t,n)},l.prototype.StopAll=function(){cc.audioEngine.stopAllEffects()},l.Instance=null,a([s({type:cc.AudioClip})],l.prototype,"audioClip",void 0),r=a([t],l));function l(){var e=null!==i&&i.apply(this,arguments)||this;return e.audioClip=[],e}n.default=t,cc._RF.pop()},{}],AutoDestroy:[function(e,t,n){"use strict";cc._RF.push(t,"aa0f5e77Z9FXJ3DrgQcqASi","AutoDestroy");var o,c=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var c,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;0<=r;r--)(c=e[r])&&(i=(a<3?c(i):3<a?c(t,n,i):c(t,n))||i);return 3<a&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("../Common/PoolManager"),t=cc._decorator,e=t.ccclass,t=t.property,e=(i=cc.Component,c(s,i),s.prototype.start=function(){this.plane=cc.find("Canvas/playerNode/plane")},s.prototype.update=function(e){if(this.plane.y-this.node.y>=this.node.height+cc.winSize.height/2){for(var t=0;t<3;t++)this.node.children[t].removeComponent(cc.BoxCollider);r.default.Despawn(this.node.name,this.node)}},a([t(cc.Label)],s.prototype,"label",void 0),a([t],s.prototype,"text",void 0),a([e],s));function s(){var e=null!==i&&i.apply(this,arguments)||this;return e.label=null,e.text="hello",e.plane=null,e}n.default=e,cc._RF.pop()},{"../Common/PoolManager":"PoolManager"}],DataManager:[function(e,t,n){"use strict";cc._RF.push(t,"fd2c5sUJdNElqycZdmzNC7g","DataManager");var o,c=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var c,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;0<=r;r--)(c=e[r])&&(i=(a<3?c(i):3<a?c(t,n,i):c(t,n))||i);return 3<a&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i,r,s=cc._decorator,t=s.ccclass,s=s.property,l=function(){this.isFirstPlay=!0,this.score=0,this.highScore=0,this.goldCount=0,this.playLevel=1,this.maxFruitId=2,this.successful=!1,this.currentLevelInfo=null,this.playCount=0,this.guideTime=0},t=(i=cc.Component,c(u,i),(r=u).prototype.onLoad=function(){null!=r.Instance&&r.Instance.destroy(),r.Instance=this,r.Instance.playerData=JSON.parse(cc.sys.localStorage.getItem(this.gameName+"playerData11")),null==this.playerData&&(this.playerData=new l,this.playerData.isFirstPlay=!0,this.playerData.score=0,this.playerData.highScore=0,this.playerData.goldCount=0,this.playerData.playCount=0,r.Instance.Save())},u.prototype.SetguideTime=function(){this.playerData.guideTime+=1,this.Save},u.prototype.GetguideTime=function(){return this.playerData.guideTime},u.prototype.SetLevel=function(){this.playerData.playLevel+=1,this.Save()},u.prototype.GetLevel=function(){return this.playerData.playLevel},u.prototype.GetCurrentLevelInfo=function(){return this.playerData.currentLevelInfo},u.prototype.SetCurrentLevelInfo=function(e){this.playerData.currentLevelInfo=e,this.Save()},u.prototype.SetPlayerFirstPlay=function(e){this.playerData.isFirstPlay=e,this.Save()},u.prototype.GetFirstPlay=function(){return this.playerData.isFirstPlay},u.prototype.SetPlayerGold=function(e){this.playerData.goldCount=e,this.Save()},u.prototype.GetPlayerGold=function(){return this.playerData.goldCount},u.prototype.SetPlayerScore=function(e){this.playerData.score=e,this.Save()},u.prototype.GetPlayerScore=function(){return this.playerData.score},u.prototype.SetPlayerHighScore=function(e){this.playerData.highScore=e,this.Save()},u.prototype.GetPlayerHighScore=function(){return this.playerData.highScore},u.prototype.SetMaxFruitId=function(e){this.playerData.maxFruitId=e,this.Save()},u.prototype.getMaxFruitId=function(){return this.playerData.maxFruitId},u.prototype.GetSuccessful=function(){return this.playerData.successful},u.prototype.SetSuccessful=function(e){this.playerData.successful=e,this.Save()},u.prototype.GetPlayCount=function(){return this.playerData.playCount},u.prototype.SetPlayCount=function(){this.playerData.playCount+=1,this.Save()},u.prototype.ClearData=function(){this.playerData.playLevel=1,this.Save()},u.prototype.Load=function(){r.Instance.playerData=JSON.parse(cc.sys.localStorage.getItem(this.gameName+"playerData11"))},u.prototype.Save=function(){cc.sys.localStorage.setItem(this.gameName+"playerData11",JSON.stringify(r.Instance.playerData))},u.Instance=null,a([s],u.prototype,"gameName",void 0),r=a([t],u));function u(){var e=null!==i&&i.apply(this,arguments)||this;return e.gameName="DefaultName",e.playerData=null,e}n.default=t,cc._RF.pop()},{}],DynamicLoad:[function(e,t,n){"use strict";cc._RF.push(t,"c6f04DncqhJIoWmE4UojNVj","DynamicLoad");var o,c=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var c,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;0<=r;r--)(c=e[r])&&(i=(a<3?c(i):3<a?c(t,n,i):c(t,n))||i);return 3<a&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i,r,s=cc._decorator,t=s.ccclass,s=s.property,t=(i=cc.Component,c(l,i),(r=l).prototype.onLoad=function(){null!=r.Instance&&r.Instance.destroy(),r.Instance=this},l.prototype.start=function(){this.TGColors.push("f43df7","ef4126","6ff814","32cdf9","fff02c","f43df7","fb4626","6ff814","50f7f0","fff02c")},l.Instance=null,a([s(cc.SpriteFrame)],l.prototype,"adsbutton",void 0),a([s(cc.SpriteFrame)],l.prototype,"adsbutton2",void 0),a([s(cc.SpriteFrame)],l.prototype,"caidia",void 0),a([s(cc.SpriteFrame)],l.prototype,"fllows",void 0),a([s(cc.SpriteFrame)],l.prototype,"fruit",void 0),a([s(cc.SpriteFrame)],l.prototype,"guozhiZ",void 0),a([s(cc.SpriteFrame)],l.prototype,"guozhiL",void 0),a([s(cc.SpriteFrame)],l.prototype,"fruitL",void 0),r=a([t],l));function l(){var e=null!==i&&i.apply(this,arguments)||this;return e.adsbutton=[],e.adsbutton2=[],e.caidia=[],e.fllows=[],e.fruit=[],e.guozhiZ=[],e.guozhiL=[],e.fruitL=[],e.TGColors=[],e}n.default=t,cc._RF.pop()},{}],EffectCenter:[function(e,t,n){"use strict";cc._RF.push(t,"e94b9uwJsJB94QZmqCRpyTe","EffectCenter");var o,c=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var c,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;0<=r;r--)(c=e[r])&&(i=(a<3?c(i):3<a?c(t,n,i):c(t,n))||i);return 3<a&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i,r,d=e("../Common/Utils"),p=e("../Common/PoolManager"),l=e("../Common/SpriteManager"),u=e("../common/DynamicLoad"),f=e("./AudioManager"),t=cc._decorator,e=t.ccclass,t=t.property,e=(i=cc.Component,c(s,i),(r=s).prototype.onLoad=function(){null!=r.Instance&&r.Instance.destroy(),r.Instance=this},s.prototype.LightOEffect=function(e){var t=p.default.Spawn("lightEffect",this.upEffectPartiParent);t.position=e,t.scale=.2,t.runAction(cc.sequence(cc.scaleTo(.3,1.2),cc.fadeOut(.3))),t.children[0].runAction(cc.spawn(cc.moveBy(.5,-65,65),cc.fadeOut(.6))),t.children[1].runAction(cc.spawn(cc.moveBy(.5,65,-65),cc.fadeOut(.6))),t.children[2].runAction(cc.spawn(cc.moveBy(.5,-65,-65),cc.fadeOut(.6))),t.children[3].runAction(cc.spawn(cc.moveBy(.5,65,65),cc.fadeOut(.6)))},s.prototype.MilkEffect=function(e,t){var n=p.default.Spawn("milk",this.downEffectPartiParent);n.color=(new cc.Color).fromHEX(u.default.Instance.TGColors[t%10]),n.position=e,n.scale=.3,n.runAction(cc.sequence(cc.scaleTo(.3,1),cc.fadeOut(.3)))},s.prototype.FireLight=function(){this.fireLightNode.stopAllActions(),this.fireLightNode.opacity=0,this.fireLightNode.runAction(cc.sequence(cc.fadeTo(.11,180).easing(cc.easeCubicActionIn()),cc.fadeTo(.18,0)))},s.prototype.SendGoldCoin=function(e,t,n){for(var o=Math.floor(d.default.Random(8,12)),o=e,c=d.default.ConvertPosition(t,this.uiEffectParent),a=d.default.ConvertPosition(n,this.uiEffectParent).sub(cc.v2(0,0)),i=0;i<o;i++){var r=p.default.Spawn("Diamond");r.parent=this.uiEffectParent,r.position=c,r.scale=.7;var s=c.add(cc.v2(d.default.Random(-60,60),d.default.Random(-60,60))),l=cc.jumpTo(.3,s,d.default.Random(30,150),1),u=cc.sequence(l,cc.moveBy(.06,cc.v2(0,10)),cc.moveBy(.06,cc.v2(0,-10))),l=a.sub(c),l=(cc.v2(s),cc.v2(d.default.Random(-300,300),l.y*d.default.Random(.2,.8)),cc.v2(a)),l=cc.moveTo(.3,l).easing(cc.easeBackIn());r.runAction(cc.sequence(u,cc.delayTime(.05),l,cc.callFunc(function(e){p.default.Despawn("Diamond",e)},this)))}},s.prototype.SendGoldCoin2=function(e,t){for(var n=Math.floor(d.default.Random(5,8)),o=d.default.ConvertPosition(e,this.uiEffectParent),c=d.default.ConvertPosition(t,this.uiEffectParent).sub(cc.v2(0,0)),a=0;a<n;a++){var i=p.default.Spawn("DiamondIcon");i.parent=this.uiEffectParent,i.position=o;var r=.07*a;i.runAction(cc.sequence(cc.delayTime(r),cc.moveTo(.7,c),cc.callFunc(function(e){p.default.Despawn("DiamondIcon",e)},this)))}},s.prototype.ShakeCamera=function(e,t,n){this.cameraNode.stopAllActions()},s.prototype.AddScoreEffect=function(e,t){var n=p.default.Spawn("AddScore");n.parent=this.upEffectPartiParent,n.getComponent("AddScore").SetScore(e),n.position=t,n.runAction(cc.fadeIn(.2)),n.runAction(cc.sequence(cc.moveBy(.5,cc.v2(0,40)),cc.delayTime(.7),cc.fadeOut(.3),cc.callFunc(function(){p.default.Despawn("AddScore",n)},this)))},s.prototype.BloodBoom=function(e,t,n){for(var o=d.default.RandomInteger(t,n),c=0;c<o;c++){var a=cc.instantiate(p.default.GetPrefab("Star"));a.parent=this.downEffectPartiParent,a.position=e,a.scale=d.default.Random(.4,.8);var i=e.add(cc.v2(d.default.Random(-64,64),d.default.Random(-30,-90))),r=d.default.Random(.5,.55),s=d.default.Random(20,90);a.runAction(cc.sequence(cc.jumpTo(r,i,s,1),cc.delayTime(1),cc.callFunc(function(e){e.stopAllActions(),e.destroy()},this))),a.runAction(cc.sequence(cc.delayTime(.5*r),cc.fadeOut(.5*r)))}},s.prototype.StepCloud=function(e,t){for(var n=d.default.RandomInteger(3,6),o=0;o<n;o++){var c=p.default.Spawn("EffectSprite").getComponent("EffectSprite");c.node.parent=this.downEffectPartiParent,c.node.position=t.add(cc.v2(d.default.Random(-40,40),d.default.Random(-15,15))),c.Reset(),c.SetSprite(l.default.Instance.GetSpriteFrame("cloud"));var a=d.default.RandomInteger(0,100)<50?1:-1;c.node.scale=d.default.Random(.2*a,.6*a),c.node.opacity=d.default.Random(150,180);a=cc.v2(d.default.Random(-10,10),d.default.Random(-10,10));c.node.runAction(cc.sequence(cc.delayTime(.2),cc.fadeOut(.3))),c.node.runAction(cc.sequence(cc.moveBy(.5,a),cc.callFunc(function(e){p.default.Despawn("EffectSprite",e)},this)))}},s.prototype.EnemyDeadEFF=function(e){for(var t=d.default.RandomInteger(10,15),n=0;n<t;n++){var o=p.default.Spawn("EffectSprite").getComponent("EffectSprite");o.node.parent=this.downEffectPartiParent,o.Reset(),o.node.position=e;var c=l.default.Instance.GetSpriteFrame("star");Math.floor(20*d.default.Random(.3,1.6)),o.SetSprite(c,cc.v2(32,32)),o.node.scale=d.default.Random(.5,1.5);var a=cc.v2(0,1);a.rotateSelf(d.default.AngleToRadian(360*Math.random()));var i=d.default.Random(20,85);o.node.position.add(a.mul(d.default.Random(0,30)));c=d.default.Random(.3,.36);o.node.runAction(cc.sequence(cc.delayTime(.2*c),cc.scaleTo(.8*c,d.default.Random(.1,.3)))),o.node.runAction(cc.sequence(cc.moveBy(c,a.mul(i)).easing(cc.easeCubicActionOut()),cc.callFunc(function(e){p.default.Despawn("EffectSprite",e)},this)))}var r=p.default.Spawn("EffectSprite").getComponent("EffectSprite");r.node.parent=this.downEffectPartiParent,r.Reset(),r.node.position=e,r.SetSprite(l.default.Instance.GetSpriteFrame("whiteCircle"),cc.v2(150,150)),r.node.opacity=200,r.node.scale=0,r.node.runAction(cc.scaleTo(.32,1)),r.node.runAction(cc.sequence(cc.delayTime(.2),cc.fadeOut(.1),cc.callFunc(function(e){p.default.Despawn("EffectSprite",e)},this)))},s.prototype.StarFishDead=function(e){for(var t=d.default.RandomInteger(20,26),n=0;n<t;n++){var o=p.default.Spawn("EffectSprite").getComponent("EffectSprite");o.node.parent=this.downEffectPartiParent,o.Reset(),o.node.position=e;var c=l.default.Instance.GetSpriteFrame("bubbleW");Math.floor(20*d.default.Random(.3,1.6)),o.SetSprite(c,cc.v2(32,32)),o.node.scale=d.default.Random(.3,1.6);var a=cc.v2(0,1);a.rotateSelf(d.default.AngleToRadian(360*Math.random()));var i=d.default.Random(80,120);o.node.position.add(a.mul(d.default.Random(0,30)));c=d.default.Random(.3,.36);o.node.runAction(cc.sequence(cc.delayTime(c*d.default.Random(.1,.3)),cc.scaleTo(.8*c,d.default.Random(.1,.3)))),o.node.runAction(cc.sequence(cc.moveBy(c,a.mul(i)).easing(cc.easeCubicActionOut()),cc.callFunc(function(e){p.default.Despawn("EffectSprite",e)},this)))}},s.prototype.PutEFF=function(e,t){for(var n=d.default.RandomInteger(15,20),o=0;o<n;o++){var c=p.default.Spawn("EffectSprite");c.parent=this.upEffectPartiParent;var a=c.getComponent("EffectSprite");a.Reset();var i=l.default.Instance.GetSpriteFrame("ball");a.SetSprite(i,cc.v2(18,18)),c.setPosition(e.x+80*Math.random()-40,e.y+80*Math.random()-40),c.setScale(.5*Math.random()+.5),c.opacity=150*Math.random()+50,c.color=t;a=360*Math.random()*Math.PI/180,i=46+46*Math.random(),i=cc.v2(e.x+Math.sin(a)*i,e.y+Math.cos(a)*i);c.runAction(cc.sequence(cc.spawn(cc.moveTo(.8,i).easing(cc.easeCircleActionOut()),cc.scaleTo(.8*d.default.Random(.5,1),0).easing(cc.easeCircleActionIn())),cc.callFunc(function(e){p.default.Despawn("EffectSprite",e)},this)))}},s.prototype.LevelUpEff=function(e,t){for(var n=d.default.RandomInteger(27,36),o=0;o<n;o++){var c=p.default.Spawn("EffectSprite");c.parent=this.downEffectPartiParent;var a=c.getComponent("EffectSprite");a.Reset();var i=l.default.Instance.GetSpriteFrame("flower");a.SetSprite(i,cc.v2(32,32)),c.setPosition(e.x+90*Math.random()-45,e.y+90*Math.random()-45),c.setScale(.55*Math.random()+.7),c.opacity=160*Math.random()+70;a=360*Math.random()*Math.PI/180,i=60+80*Math.random(),i=cc.v2(e.x+Math.sin(a)*i,e.y+Math.cos(a)*i);c.runAction(cc.sequence(cc.spawn(cc.moveTo(.8,i).easing(cc.easeCircleActionOut()),cc.scaleTo(.8*d.default.Random(.5,1),0).easing(cc.easeCircleActionIn())),cc.callFunc(function(e){p.default.Despawn("EffectSprite",e)},this)))}},s.prototype.PortDownEff=function(e){for(var t=d.default.RandomInteger(12,15),n=0;n<t;n++){var o=p.default.Spawn("EffectSprite").getComponent("EffectSprite");o.node.parent=this.downEffectPartiParent,o.Reset(),o.SetSprite(l.default.Instance.GetSpriteFrame("ball"),cc.v2(48,48)),o.node.scale=d.default.Random(.6,1),o.node.opacity=d.default.RandomInteger(120,250),o.node.position=e.add(cc.v2(d.default.Random(-25,25)));var c=cc.v2(0,d.default.Random(30,80)).rotate(d.default.AngleToRadian(d.default.Random(0,360))),a=cc.moveBy(.7,c),i=cc.scaleTo(.6,0),c=cc.fadeOut(.5);o.node.runAction(cc.spawn(a,i)),o.node.runAction(cc.sequence(cc.delayTime(.2),c,cc.callFunc(function(e){p.default.Despawn("EffectSprite",e)},this)))}},s.prototype.ShootFlower=function(){f.default.Instance.Play(10,!1,1);var e=[[360,-50],[-360,-50],[360,-120],[-360,-120]];cc.log(1);for(var t=0;t<e.length;t++)for(var n=0<=e[t][0]?1:-1,o=0;o<40;o++){var c=p.default.Spawn("star",this.upEffectPartiParent);c.position=cc.v2(e[t][0],e[t][1]),c.scale=d.default.Random(.7,1),c.getComponent(cc.Sprite).spriteFrame=u.default.Instance.caidia[d.default.RandomInteger(0,6)];var a=c.position,i=a.x+d.default.Random(.5*-cc.winSize.width,.05*-cc.winSize.width)*n,r=a.y+d.default.Random(100,500),s=cc.v2(a.x+.8*(i-a.x),a.y+.5*(r-a.y)+200);c.runAction(cc.sequence(cc.spawn(cc.bezierTo(1,[a,s,cc.v2(i,r)]).easing(cc.easeCircleActionOut()),cc.moveBy(2.8,0,1.2*-cc.winSize.height*d.default.Random(.8,1.2)).easing(cc.easeCubicActionIn()),cc.moveBy(2.8,d.default.Random(0,-300)*n,0),cc.rotateBy(2,d.default.Random(360,720)*(2*Math.round(Math.random())-1)),cc.sequence(cc.moveBy(2*(.1*Math.random()+.3),(25*Math.random()+25)*(2*Math.round(Math.random())-1),0),cc.moveBy(2*(.1*Math.random()+.3),(25*Math.random()+25)*(2*Math.round(Math.random())-1),0),cc.moveBy(2*(.1*Math.random()+.3),(25*Math.random()+25)*(2*Math.round(Math.random())-1),0))),cc.callFunc(function(e,t){p.default.Despawn("star",e)},this,this)))}},s.prototype.HitWood=function(e){for(var t=d.default.RandomInteger(20,26),n=0;n<t;n++){var o=p.default.Spawn("EffectSprite").getComponent("EffectSprite");o.node.parent=this.downEffectPartiParent,o.Reset(),o.node.position=e;var c=l.default.Instance.GetSpriteFrame("ball1");Math.floor(20*d.default.Random(.3,1.6)),o.SetSprite(c,cc.v2(28,28)),o.node.scale=d.default.Random(.3,1.6);var a=cc.v2(0,1);a.rotateSelf(d.default.AngleToRadian(360*Math.random()));var i=d.default.Random(80,120);o.node.position.add(a.mul(d.default.Random(0,30)));c=d.default.Random(.3,.36);o.node.runAction(cc.sequence(cc.delayTime(c*d.default.Random(.1,.3)),cc.scaleTo(.8*c,d.default.Random(.1,.3)))),o.node.runAction(cc.sequence(cc.moveBy(c,a.mul(i)).easing(cc.easeCubicActionOut()),cc.callFunc(function(e){p.default.Despawn("EffectSprite",e)},this)))}},s.prototype.StarBoom=function(n){for(var o=this,e=0;e<12;e++)!function(e){var t=p.default.Spawn("lightEffect").getComponent("EffectSprite");t.node.parent=o.bgEffectParent,t.node.position=n,t.Reset(),t.SetSprite(l.default.Instance.GetSpriteFrame("star"),cc.v2(32,32)),t.node.color=new cc.Color(254,236,180),e=cc.v2(0,100).rotate(d.default.AngleToRadian(30*e)),t.node.runAction(cc.sequence(cc.moveBy(.45,e),cc.callFunc(function(){p.default.Despawn("lightEffect",t.node)},o))),t.node.runAction(cc.rotateBy(.45,360)),t.node.runAction(cc.sequence(cc.delayTime(.225),cc.scaleTo(.225,.4)))}(e)},s.prototype.GhostBornEff=function(e){for(var t=d.default.RandomInteger(100,101),n=0;n<t;n++){var o=p.default.Spawn("EffectSprite").getComponent("EffectSprite");o.node.parent=this.downEffectPartiParent,o.Reset(),o.node.position=e,o.node.opacity=0,o.node.color=new cc.Color(220,220,220);var c=l.default.Instance.GetSpriteFrame("cloud");Math.floor(20*d.default.Random(.4,1.6)),o.SetSprite(c,cc.v2(80,80)),o.node.scale=d.default.Random(.6,1.3),o.node.angle=d.default.Random(0,360);var a=cc.v2(0,1);a.rotateSelf(d.default.AngleToRadian(360*Math.random()));var i=d.default.Random(20,280);o.node.position.add(a.mul(d.default.Random(0,30)));var r=d.default.Random(1,1.3),c=d.default.Random(.01,.012)*n;o.node.runAction(cc.sequence(cc.delayTime(c),cc.delayTime(.6*r),cc.fadeOut(.4*r))),o.node.opacity=0,o.node.runAction(cc.sequence(cc.delayTime(c),cc.fadeTo(.1,d.default.Random(120,240)))),o.node.runAction(cc.sequence(cc.delayTime(c),cc.moveBy(r,a.mul(i)).easing(cc.easeCubicActionOut()),cc.callFunc(function(e){p.default.Despawn("EffectSprite",e)},this))),d.default.Random(0,100)}},s.prototype.LittleFly=function(e){for(var t=d.default.RandomInteger(24,33),n=0;n<t;n++){var o=cc.instantiate(p.default.GetPrefab("LittleFly"));o.parent=this.bgEffectParent,o.position=e;o=o.getComponent("RandomFly");o.SetId(d.default.RandomInteger(1,5)),o.fadeTicker=d.default.Random(2,3.5),o.mosquitoSpeedLen=d.default.RandomInteger(6,12),o.mosquitoSpeedMaxR=d.default.RandomInteger(6,12),o.startFun()}},s.prototype.JuiceBoom=function(e,t){for(var n=0;n<6;n++){var o=p.default.Spawn("JuiceParticle");o.parent=this.downEffectPartiParent,o.position=e.add(cc.v2(d.default.Random(-50,50),0)),o.scale=d.default.Random(.3,1),o.color=t;var c=(c=cc.v2(0,1)).rotate(d.default.AngleToRadian(d.default.Random(-60,60))),a=d.default.Random(60,100),a=cc.moveBy(.3,c.mul(a));o.runAction(a),o.runAction(cc.sequence(cc.delayTime(.05),cc.scaleTo(.25,d.default.Random(.1,.2)))),o.runAction(cc.sequence(cc.delayTime(.2),cc.fadeOut(.1)))}},s.prototype.createBlood=function(e){for(var t=0;t<3;t++){var n=p.default.Spawn("EffectSprite");n.parent=this.downEffectPartiParent;var o=n.getComponent("EffectSprite");o.Reset(),n.position=e,n.scale=0,o.SetSprite(l.default.Instance.GetSpriteFrame("ball"),cc.v2(20,20)),o.node.color=(new cc.Color).fromHEX("#AD0909"),n.setContentSize(d.default.RandomInteger(16,18),d.default.RandomInteger(16,18)),n.runAction(cc.sequence(cc.delayTime(.5*t),cc.delayTime(.5),cc.scaleTo(.1,0))),n.runAction(cc.sequence(cc.delayTime(.4*t),cc.scaleTo(.3,1),cc.moveBy(.6,cc.v2(0,-180)),cc.callFunc(function(){},n)))}},s.prototype.LightBoomAndMove=function(e,t){for(var n=d.default.RandomInteger(32,43),o=0;o<n;o++){var c=cc.instantiate(p.default.GetPrefab("Lightning"));c.parent=this.downEffectPartiParent,c.position=e,c.opacity=0,c.setContentSize(120,120),c.scale=d.default.Random(.3,1.3);var a=cc.v2(0,1);a.rotateSelf(d.default.AngleToRadian(360*Math.random()));var i=d.default.Random(30,120);c.position.add(a.mul(d.default.Random(0,30)));var r=d.default.Random(.9,1.2),s=d.default.Random(.05,.15);c.runAction(cc.sequence(cc.delayTime(s),cc.delayTime(r*d.default.Random(.1,.3)),cc.scaleTo(.8*r,d.default.Random(.2,.3)))),c.opacity=0,c.runAction(cc.sequence(cc.delayTime(s),cc.fadeTo(.08,d.default.Random(160,240)))),c.runAction(cc.sequence(cc.delayTime(s),cc.moveBy(r,a.mul(i)).easing(cc.easeCubicActionOut()),cc.callFunc(function(e){e.stopAllActions(),e.destroy()},this)));i=d.default.Random(0,100)<50?1:-1;c.runAction(cc.sequence(cc.delayTime(s),cc.rotateBy(r,d.default.Random(180,200)*i)))}},s.prototype.RecoveryPigment=function(e){for(var t=d.default.RandomInteger(6,7),n=0;n<t;n++){var o=p.default.Spawn("EffectSprite").getComponent("EffectSprite");o.node.parent=this.downEffectPartiParent,o.Reset(),o.node.opacity=0;var c=l.default.Instance.GetSpriteFrame("skull");o.SetSprite(c,cc.v2(40,40)),o.node.position=e.add(cc.v2(d.default.Random(-55,55),d.default.Random(-15,40)));var a=d.default.Random(.4,1),i=d.default.Random(1,1.2),c=d.default.Random(.07,.09)*n;o.node.runAction(cc.sequence(cc.delayTime(.75*i),cc.fadeOut(.25*i),cc.callFunc(function(e){p.default.Despawn("EffectSprite",e)},this))),o.node.runAction(cc.sequence(cc.delayTime(c),cc.spawn(cc.fadeIn(.15),cc.scaleTo(.15,a),cc.moveBy(i,cc.v2(0,90*i)))))}},s.prototype.WinkJump=function(e){for(var t=d.default.RandomInteger(16,17),n=0;n<t;n++){var o=p.default.Spawn("EffectSprite").getComponent("EffectSprite");o.node.parent=this.upEffectPartiParent,o.Reset(),o.SetSprite(l.default.Instance.GetSpriteFrame("wink"),cc.v2(110,110)),o.node.scale=d.default.Random(.3,1.2),o.node.opacity=d.default.RandomInteger(170,250),o.node.position=e.add(cc.v2(d.default.Random(-30,30),d.default.Random(-30,30)));var c=cc.v2(d.default.Random(-150,150),d.default.Random(20,-60)),c=cc.v2(o.node.position.add(c)),a=d.default.Random(1,1.2),i=cc.jumpTo(a,c,d.default.Random(120,120),1),r=d.default.Random(0,100)<50?1:-1,c=cc.rotateBy(a,d.default.Random(200,300)*r),r=cc.fadeOut(.2*a);o.node.runAction(cc.spawn(i,c)),o.node.runAction(cc.sequence(cc.delayTime(.8*a),r,cc.callFunc(function(e){p.default.Despawn("EffectSprite",e)},this)))}},s.prototype.RightSelect=function(e,t){for(var n=d.default.RandomInteger(20,23),o=0;o<n;o++){var c=p.default.Spawn("EffectSprite").getComponent("EffectSprite");c.node.parent=this.downEffectPartiParent,c.Reset(),c.node.position=e,c.node.opacity=0;var a=l.default.Instance.GetSpriteFrame("star");Math.floor(20*d.default.Random(.4,1.5)),c.SetSprite(a,cc.v2(64,64)),c.node.scale=d.default.Random(.3,1.6);var i=cc.v2(0,1);i.rotateSelf(d.default.AngleToRadian(360*Math.random()));var r=d.default.Random(20,t);c.node.position.add(i.mul(d.default.Random(0,30)));var s=d.default.Random(.9,1.2),a=d.default.Random(.05,.3),a=d.default.Random(.005,.015)*o;c.node.runAction(cc.sequence(cc.delayTime(a),cc.delayTime(s*d.default.Random(.1,.3)),cc.scaleTo(.8*s,d.default.Random(.2,.3)))),c.node.opacity=0,c.node.runAction(cc.sequence(cc.delayTime(a),cc.fadeTo(.08,d.default.Random(160,240)))),c.node.runAction(cc.sequence(cc.delayTime(a),cc.moveBy(s,i.mul(r)).easing(cc.easeCubicActionOut()),cc.callFunc(function(e){p.default.Despawn("EffectSprite",e)},this)));r=d.default.Random(0,100)<50?1:-1;c.node.runAction(cc.sequence(cc.delayTime(a),cc.rotateBy(s,d.default.Random(220,260)*r)))}},s.prototype.ShowLandParti=function(e,t){for(var n=t,o=[cc.v2(e.x-8,e.y+50),cc.v2(e.x+8,e.y+50)],c=0;c<o.length;c++)for(var a=o[c].x<e.x?-1:1,i=0;i<n;i++){var r=p.default.Spawn("dieParticle");r.parent=this.upEffectPartiParent,r.stopAllActions(),r.opacity=255,r.scale=d.default.Random(.5,1);var s=o[c];r.setPosition(s);var l=cc.v2(d.default.RandomInteger(0,80)*a,d.default.RandomInteger(0,50)),u=d.default.RandomInteger(180,360)*a,s=d.default.RandomInteger(20,40);r.runAction(cc.sequence(cc.spawn(cc.sequence(cc.jumpBy(12/s,l,s,1),cc.moveBy(5/s,cc.v2(0,0))),cc.rotateTo(15/s,u)),cc.callFunc(function(e){},this)))}},s.prototype.ShowLandParti1=function(e,t){for(var n=t,o=[cc.v2(e.x-8,e.y),cc.v2(e.x+8,e.y)],c=0;c<o.length;c++)for(var a=o[c].x<e.x?-1:1,i=0;i<n;i++){var r=p.default.Spawn("youqi");r.parent=this.upEffectPartiParent,r.stopAllActions(),r.opacity=255,r.scale=d.default.Random(.2,.5);var s=o[c];r.setPosition(s);var l=cc.v2(d.default.RandomInteger(0,80)*a,d.default.RandomInteger(0,50)),u=d.default.RandomInteger(180,360)*a,s=d.default.RandomInteger(20,40);r.runAction(cc.sequence(cc.spawn(cc.sequence(cc.jumpBy(12/s,l,s,1),cc.spawn(cc.moveBy(5/s,cc.v2(0,-30)),cc.fadeOut(5/s))),cc.rotateTo(15/s,u)),cc.callFunc(function(e){p.default.Despawn("youqi",e)},this)))}},s.prototype.GhostTouchPlayer=function(e){for(var t=[cc.v2(e.x-40,e.y),cc.v2(e.x+40,e.y)],n=0;n<t.length;n++)for(var o=t[n].x<e.x?-1:1,c=0;c<15;c++){var a=p.default.Spawn("EffectSprite");a.parent=this.upEffectPartiParent;var i=a.getComponent("EffectSprite");i.Reset();var r=cc.v2(18,18);i.SetSprite(l.default.Instance.GetSpriteFrame("ball"),r),a.color=cc.color(120,120,120),a.stopAllActions(),a.opacity=255,a.scale=d.default.Random(.6,1);var s=t[n];a.setPosition(s);i=cc.v2(d.default.RandomInteger(-5,54)*o,d.default.RandomInteger(-20,20)),r=d.default.RandomInteger(180,360)*o,s=d.default.RandomInteger(15,45);a.runAction(cc.sequence(cc.spawn(cc.sequence(cc.jumpBy(12/s,i,s,1),cc.spawn(cc.moveBy(5/s,cc.v2(0,-30)),cc.fadeOut(5/s))),cc.rotateTo(15/s,r)),cc.callFunc(function(e){p.default.Despawn("EffectSprite",e)},this)))}},s.Instance=null,a([t(cc.Node)],s.prototype,"bgEffect",void 0),a([t(cc.Node)],s.prototype,"downEffectPartiParent",void 0),a([t(cc.Node)],s.prototype,"upEffectPartiParent",void 0),a([t(cc.Node)],s.prototype,"uiEffectParent",void 0),a([t(cc.Node)],s.prototype,"cameraNode",void 0),a([t(cc.Node)],s.prototype,"fireLightNode",void 0),a([t(cc.Node)],s.prototype,"effectTxtParent",void 0),a([t(cc.Node)],s.prototype,"bgEffectParent",void 0),r=a([e],s));function s(){var e=null!==i&&i.apply(this,arguments)||this;return e.bgEffect=null,e.downEffectPartiParent=null,e.upEffectPartiParent=null,e.uiEffectParent=null,e.cameraNode=null,e.fireLightNode=null,e.effectTxtParent=null,e.bgEffectParent=null,e}n.default=e,cc._RF.pop()},{"../Common/PoolManager":"PoolManager","../Common/SpriteManager":"SpriteManager","../Common/Utils":"Utils","../common/DynamicLoad":"DynamicLoad","./AudioManager":"AudioManager"}],EffectSprite:[function(e,t,n){"use strict";cc._RF.push(t,"44d58DM3EZDh45gxc2rlMFX","EffectSprite");var o,c=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var c,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;0<=r;r--)(c=e[r])&&(i=(a<3?c(i):3<a?c(t,n,i):c(t,n))||i);return 3<a&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("./PoolManager"),t=cc._decorator,e=t.ccclass,t=t.property,e=(i=cc.Component,c(s,i),s.prototype.onLoad=function(){this.camera=cc.find(this.cameraUrl)},s.prototype.update=function(e){this.stateCheck&&null!=this.camera&&(!this.startWork&&this.InScreen()&&(this.startWork=!0),this.startWork&&!this.InScreen()&&r.default.Despawn("EffectSprite",this.node))},s.prototype.Reset=function(){this.startWork=!1,this.stateCheck=!1,this.node.anchorX=.5,this.node.anchorY=.5,this.node.opacity=255,this.node.angle=0,this.node.scale=1,this.node.color=cc.Color.WHITE,this.node.getComponent(cc.Sprite).sizeMode=cc.Sprite.SizeMode.TRIMMED,this.node.stopAllActions(),this.unscheduleAllCallbacks()},s.prototype.SetSprite=function(e,t){void 0===t&&(t=null),this.node.getComponent(cc.Sprite).spriteFrame=e,null!=t&&this.node.setContentSize(t.x,t.y)},s.prototype.SetTargetCamera=function(e){this.camera=e},s.prototype.SwitchStateCheck=function(e){this.stateCheck=e},s.prototype.InScreen=function(){var e=this.camera.x+cc.winSize.width/2,t=this.camera.x-cc.winSize.width/2,n=this.camera.y+cc.winSize.height/2,o=this.camera.y-cc.winSize.height/2;return this.node.x<e+this.node.width/2&&this.node.x>t-this.node.width/2&&this.node.y<n+this.node.height/2&&this.node.y>o+this.node.height/2},a([t(cc.String)],s.prototype,"cameraUrl",void 0),a([e],s));function s(){var e=null!==i&&i.apply(this,arguments)||this;return e.cameraUrl="Canvas/mainCamera",e.startWork=!1,e.camera=null,e.stateCheck=!1,e}n.default=e,cc._RF.pop()},{"./PoolManager":"PoolManager"}],FailedUi:[function(e,t,n){"use strict";cc._RF.push(t,"78235dKIMdFVqcEjSP7q4OM","FailedUi");var o,c=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var c,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;0<=r;r--)(c=e[r])&&(i=(a<3?c(i):3<a?c(t,n,i):c(t,n))||i);return 3<a&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i,r,s=e("./GameManager"),l=e("../Common/Utils"),u=e("./MainGameUi"),d=e("../common/PlayerInfo"),t=cc._decorator,e=t.ccclass,t=t.property,e=(i=cc.Component,c(p,i),(r=p).prototype.onLoad=function(){null!=r.Instance&&r.Instance.destroy(),(r.Instance=this).clickMask.setContentSize(cc.winSize.width,cc.winSize.height),this.bgMask.setContentSize(cc.winSize.width,cc.winSize.height),this.failedUiBox.y=cc.winSize.height/2+this.failedUiBox.height/2},p.prototype.start=function(){var e=l.default.returnCurrentLanType();1!=e&&(this.bencichengji.getComponent(cc.Sprite).spriteFrame=this.bencichengjiarr[e-1],this.gengduoyouxi.getComponent(cc.Sprite).spriteFrame=this.gengduoyouxiarr[e-1]),this.continueTip.getComponent(cc.Label).string=1==e?"点击继续":2==e?"點擊繼續":4==e?"클릭 하여 계속":"Click Continue",this.reStartBtn.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5,1.1),cc.scaleTo(.55,1),cc.delayTime(.5)))),cc.tween(this.moreGameBtn).to(.5,{scale:1.1}).to(.5,{scale:1}).union().repeatForever().start(),cc.tween(this.adsButton2).to(1,{scale:.8}).to(1,{scale:.9}).union().repeatForever().start()},p.prototype.update=function(e){},p.prototype.adsButtonFunc2=function(){adLink&&(window.location.href=adLink)},p.prototype.bannerButtonFunc=function(){adLink&&(window.location.href=adLink)},p.prototype.ShowFailedUi=function(e,t){var n=this;this.scheduleOnce(function(){u.default.Instance.HideScorePanel(),n.levelTxt.string=u.default.Instance.level.toString(),n.scoreLabel.string=d.default.score.toString(),n.highScoreLabel.string=t,n.resultTxt.string=n.GetContentByScore(e),n.overTxt.string="当前关卡已完成"+Math.floor(u.default.Instance.nowYQ/u.default.Instance.passlevelYQ*100)+"%",n.canClick=!1,n.levelTxt.string=e,n.bgMask.runAction(cc.fadeTo(.36,150)),n.scheduleOnce(function(){l.default.CenteredUi(10,this.di,this.levelTxt.node,this.guan),this.failedUiBox.y=cc.winSize.height/2+this.failedUiBox.height/2,this.failedUiBox.runAction(cc.sequence(cc.moveTo(.36,this.failedBoxPos).easing(cc.easeBackOut()),cc.callFunc(function(){this.clickMask.on(cc.Node.EventType.TOUCH_START,this.OnClickCloseMask,this),this.moreGameBtn.on(cc.Node.EventType.TOUCH_START,this.OnClickMoreGame,this),this.continueTip.opacity=0,this.continueTip.runAction(cc.repeatForever(cc.sequence(cc.fadeIn(.5),cc.delayTime(.5),cc.fadeOut(.5)))),this.canClick=!0},this)))},0)},.5)},p.prototype.HideFailedUi=function(){this.canClick=!1;var e=cc.v2(0,cc.winSize.height/2+this.failedUiBox.height/2);this.failedUiBox.runAction(cc.moveTo(.3,e).easing(cc.easeBackIn()))},p.prototype.OnClickCloseMask=function(){this.canClick&&0==cc.find("Canvas/uiEffectPanel").childrenCount&&s.default.Instance.RestartGame()},p.prototype.OnClickMoreGame=function(){this.canClick&&(this.moreGameBtn.off(cc.Node.EventType.TOUCH_START,this.OnClickMoreGame,this),this.canClick=!1,this.moreGameBtn.runAction(cc.sequence(cc.scaleTo(.1,1.1),cc.scaleTo(.1,1))),this.scheduleOnce(function(){window.location.href="https://ys.mihoyo.com/"},.15))},p.prototype.GetContentByScore=function(e){e=Math.ceil(e/1500*94);94<e&&(e=94);e=5+e;return["击败了全球"+e+"%的玩家！","擊敗了全球"+e+"%的玩家！","Beat "+e+" % of global players","전 세계"+e+"% 의 유 저 를 이 겼 습 니 다"][l.default.returnCurrentLanType()-1]},p.Instance=null,a([t(cc.Node)],p.prototype,"clickMask",void 0),a([t(cc.Node)],p.prototype,"failedUiBox",void 0),a([t(cc.Node)],p.prototype,"di",void 0),a([t(cc.Label)],p.prototype,"levelTxt",void 0),a([t(cc.Node)],p.prototype,"guan",void 0),a([t(cc.Node)],p.prototype,"continueTip",void 0),a([t(cc.Label)],p.prototype,"scoreLabel",void 0),a([t(cc.Node)],p.prototype,"highScoreNode",void 0),a([t(cc.Node)],p.prototype,"highScore",void 0),a([t(cc.Label)],p.prototype,"highScoreLabel",void 0),a([t(cc.Label)],p.prototype,"resultTxt",void 0),a([t(cc.Label)],p.prototype,"overTxt",void 0),a([t(cc.Node)],p.prototype,"moreGameBtn",void 0),a([t(cc.Node)],p.prototype,"reStartBtn",void 0),a([t(cc.Vec2)],p.prototype,"failedBoxPos",void 0),a([t],p.prototype,"standardScore",void 0),a([t(cc.Node)],p.prototype,"bgMask",void 0),a([t(cc.Node)],p.prototype,"bencichengji",void 0),a([t(cc.SpriteFrame)],p.prototype,"bencichengjiarr",void 0),a([t(cc.Node)],p.prototype,"gengduoyouxi",void 0),a([t(cc.SpriteFrame)],p.prototype,"gengduoyouxiarr",void 0),a([t(cc.Node)],p.prototype,"adsButton2",void 0),a([t(cc.Node)],p.prototype,"bannerButton",void 0),r=a([e],p));function p(){var e=null!==i&&i.apply(this,arguments)||this;return e.clickMask=null,e.failedUiBox=null,e.di=null,e.levelTxt=null,e.guan=null,e.continueTip=null,e.scoreLabel=null,e.highScoreNode=null,e.highScore=null,e.highScoreLabel=null,e.resultTxt=null,e.overTxt=null,e.moreGameBtn=null,e.reStartBtn=null,e.failedBoxPos=cc.v2(0,-500),e.standardScore=0,e.canClick=!1,e.bgMask=null,e.bencichengji=null,e.bencichengjiarr=[],e.gengduoyouxi=null,e.gengduoyouxiarr=[],e.adsButton2=null,e.bannerButton=null,e}n.default=e,cc._RF.pop()},{"../Common/Utils":"Utils","../common/PlayerInfo":"PlayerInfo","./GameManager":"GameManager","./MainGameUi":"MainGameUi"}],GameConfig:[function(e,t,n){"use strict";cc._RF.push(t,"f0663sWtfNKCKOL+Hvnt0cI","GameConfig");var o={GameClubButton:null,GameScene:null,launchScene:null,Bros:null,caS:null,MAIN_MENU_NUM:"Classic",gameScore:0,standScore:30,GAME_OVER_BOOL:!0,publicGameBool:!1,ranLinkData:null,recGameData:null,InfoData:null,endShow0:null,endShow1:null,endShow2:null,endShow3:null,infoGameName:null,showText:null,startText:null,moreGameText:null,playAgainText:null,playNum:0,noTouchBool:!0,returnRanNum:function(e,t){return e+Math.floor(Math.random()*(t-e+1))}};t.exports=o,cc._RF.pop()},{}],GameFunction:[function(e,t,n){"use strict";cc._RF.push(t,"922f3dsGCZCHbXJvwDr0rdF","GameFunction");var o,c=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var c,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;0<=r;r--)(c=e[r])&&(i=(a<3?c(i):3<a?c(t,n,i):c(t,n))||i);return 3<a&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i,r,s=e("../common/PlayerInfo"),l=e("./MainGameUi"),p=e("../Common/PoolManager"),f=e("../Common/Utils"),u=e("./GameManager"),h=e("./AudioManager"),m=e("../common/DynamicLoad"),t=cc._decorator,e=t.ccclass,t=t.property,e=(i=cc.Component,c(d,i),(r=d).prototype.onLoad=function(){null!=r.Instance&&r.Instance.destroy(),r.Instance=this,s.default.playerTouch=!0,s.default.score=0,s.default.knifeStatic="Idle",s.default.knifeLR=1,s.default.GameUpdateCtrl=!0},d.prototype.start=function(){s.default.playNum,3<=s.default.bgNumber&&(s.default.bgNumber=0),s.default.bgNumber++,s.default.playNum++,cc.tween(this.lineNode.children[0]).to(.3,{opacity:255}).to(.3,{opacity:0}).union().repeatForever().start(),this.lineNode.children[0].active=!1,this.fruitS=["PuTaoS","YingTaoS","JuZiS","NingMengS","MiHouTaoS","XiHongShiS","TaoS","BoLuoS","YeZiS","XiGuaS"],this.createOneFruit(firstFruit)},d.prototype.update=function(e){s.default.GameUpdateCtrl,this.lineNode.children[0].y-r.Instance.fruitHeigth<100&&0<=this.lineNode.children[0].y-r.Instance.fruitHeigth&&(this.lineNode.children[0].active=!0),100<this.lineNode.children[0].y-r.Instance.fruitHeigth&&(this.lineNode.children[0].active=!1)},d.prototype.end=function(){var t=this;if(0==this.endOne){for(var n=0,e=this.fruitNode.children.length-1;0<=e;e--)!function(e){setTimeout(function(){t.createFruitL(t.fruitNode.children[e].getComponent("fruitData").fruitNumber,t.fruitNode.children[e].position,t.fruitNode.children[e].width),s.default.score+=t.fruitNode.children[e].getComponent("fruitData").fruitNumber+1,l.default.Instance.SetScoreTween(s.default.score),t.fruitNode.children[e].active=!1},100*++n)}(e);this.lineNode.active=!0;for(var o=1;o<this.lineNode.children.length;o++)this.lineNode.children[o].active=!1;s.default.GameUpdateCtrl=!1,this.scheduleOnce(function(){u.default.Instance.ToEnd()},4),this.endOne++}},d.prototype.testEnd=function(){var t=this;if(this.lineNode.children[0].y-r.Instance.fruitHeigth<-20&&0==this.endOne){for(var e=0;e<this.fruitNode.children.length;e++)this.fruitNode.children[e].removeComponent(cc.PhysicsCircleCollider),this.fruitNode.children[e].removeComponent(cc.RigidBody);for(var n=0;n<this.fruitNode.children.length;n++)!function(e){setTimeout(function(){t.createFruitL(t.fruitNode.children[e].getComponent("fruitData").fruitNumber,t.fruitNode.children[e].position,t.fruitNode.children[e].width),s.default.score+=t.fruitNode.children[e].getComponent("fruitData").fruitNumber+1,l.default.Instance.SetScoreTween(s.default.score),t.fruitNode.children[e].active=!1},100*e)}(n);for(this.lineNode.active=!0,e=1;e<this.lineNode.children.length;e++)this.lineNode.children[e].active=!1;s.default.GameUpdateCtrl=!1,this.scheduleOnce(function(){u.default.Instance.ToEnd()},4),this.endOne++}},d.prototype.findHighestFruit=function(){for(var e=this.fruitNode.children[0].y,t=1;t<this.fruitNode.children.length;t++){var n=this.fruitNode.children[t].y+this.fruitNode.children[t].width/2;e<n&&(e=n)}return e},d.prototype.createOneFruit=function(e){var t=this,n=cc.instantiate(this.fruitPre);n.parent=this.lineNode,n.getComponent(cc.Sprite).spriteFrame=m.default.Instance.fruit[e],n.children[0].getComponent(cc.Sprite).spriteFrame=m.default.Instance.fruit[e],n.getComponent("fruitData").fruitNumber=e,n.position=this.lineNode.children[1].position,n.scale=0,n.getComponent(cc.RigidBody).type=cc.RigidBodyType.Static,fruitSlowDown&&(n.getComponent(cc.RigidBody).linearDamping=fruitSlowDown),n.getComponent(cc.RigidBody).active=!1,n.getComponent(cc.PhysicsCircleCollider).radius=0,fruitQTan&&(n.getComponent(cc.PhysicsCircleCollider).restitution=fruitQTan),n.getComponent(cc.PhysicsCircleCollider).apply(),cc.tween(n).to(.5,{scale:1},{easing:"backOut"}).call(function(){t.targetFruit=n}).start()},d.prototype.createLevelUpFruit=function(e,t){var n=cc.instantiate(this.fruitPre);n.parent=this.fruitNode,n.getComponent(cc.Sprite).spriteFrame=m.default.Instance.fruit[e],n.children[0].getComponent(cc.Sprite).spriteFrame=m.default.Instance.fruit[e],n.getComponent("fruitData").fruitNumber=e,n.position=t,n.scale=0,n.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,-100),n.getComponent(cc.PhysicsCircleCollider).radius=n.height/2,n.getComponent(cc.PhysicsCircleCollider).apply(),cc.tween(n).to(.5,{scale:1},{easing:"backOut"}).call(function(){null!=n.getComponent(cc.PhysicsCircleCollider)&&(n.getComponent(cc.PhysicsCircleCollider).radius=n.height/2,n.getComponent(cc.RigidBody).type=cc.RigidBodyType.Dynamic,n.getComponent(cc.PhysicsCircleCollider).apply())}).start(),r.Instance.fruitHeigth=r.Instance.findHighestFruit()},d.prototype.createFruitSui=function(e,t){},d.prototype.createFruitL=function(e,t,n){h.default.Instance.Play(3,!1,.5),h.default.Instance.Play(6,!1,.3);for(var o=0;o<10;o++){var c=p.default.Spawn("juicePre",this.downEffect);c.getComponent(cc.Sprite).spriteFrame=m.default.Instance.fruitL[e];var a=359*Math.random(),i=30*Math.random()+n/2,r=cc.v2(Math.sin(a*Math.PI/180)*i,Math.cos(a*Math.PI/180)*i);c.scale=.5*Math.random()+n/100;var s=.5*Math.random();c.position=t,c.runAction(cc.sequence(cc.spawn(cc.moveBy(s,r),cc.scaleTo(s+.5,.3),cc.rotateBy(s+.5,f.default.RandomInteger(-360,360))),cc.fadeOut(.1),cc.callFunc(function(){u.active=!1},this)))}for(var l=0;l<20;l++){var u=p.default.Spawn("juicePre",this.downEffect);u.getComponent(cc.Sprite).spriteFrame=m.default.Instance.guozhiL[e],u.active=!0,a=359*Math.random(),i=30*Math.random()+n/2,r=cc.v2(Math.sin(a*Math.PI/180)*i,Math.cos(a*Math.PI/180)*i),u.scale=.5*Math.random()+n/100,s=.5*Math.random(),u.position=t,u.runAction(cc.sequence(cc.spawn(cc.moveBy(s,r),cc.scaleTo(s+.5,.3)),cc.fadeOut(.1),cc.callFunc(function(){u.active=!1},this)))}var d=p.default.Spawn("juicePre",this.downEffect);d.getComponent(cc.Sprite).spriteFrame=m.default.Instance.guozhiZ[e],d.position=t,d.scale=0,d.angle=f.default.RandomInteger(0,360),d.runAction(cc.sequence(cc.spawn(cc.scaleTo(.2,n/150),cc.fadeOut(1)),cc.callFunc(function(){d.active=!1})))},d.prototype.levelUpEffect=function(){for(var e=0;e<25;e++){var t=p.default.Spawn("lightEffect",this.downEffect);t.scale=.3*Math.random()+.2,t.opacity=210;var n=360*Math.random()*Math.PI/180,o=20*Math.random(),c=35+60*Math.random(),c=cc.v2(Math.sin(n)*(o+c),Math.cos(n)*(o+c));cc.tween(t).to(.8,{position:c,angle:f.default.getRandomNum(180,360,!0),opacity:f.default.getRandomNum(.4,.8)},{easing:"cubicOut"}).then(cc.removeSelf(!0))}},d.prototype.conboHit=function(e){var t=this;h.default.Instance.Play(5,!1,.5);var n=p.default.Spawn("addScore",this.bazieffect);n.position=cc.v2(0,-200),n.scale=.2,n.children[0].getComponent(cc.Label).string=e,n.runAction(cc.sequence(cc.spawn(cc.scaleTo(.3,1),cc.moveBy(.3,0,200),cc.rotateBy(.3,720),cc.callFunc(function(){t.getScore(10*e,cc.v2(0,-200),.8,.5)})),cc.fadeOut(.5))),this.levelUpEffect()},d.prototype.getScore=function(e,t,n,o){var c=p.default.Spawn("score",this.bazieffect);c.position=t,c.scale=.2,c.children[1].getComponent(cc.Label).string=e,c.runAction(cc.sequence(cc.spawn(cc.scaleTo(.3,n),cc.moveBy(.3,0,150),cc.rotateBy(.3,720)),cc.fadeOut(o)))},d.prototype.ribbonEffect=function(e){h.default.Instance.Play(3,!1,1);for(var t=f.default.getRandomNum(80,100),n=0;n<t;n++){var o=p.default.Spawn("star",this.bazieffect);o.getComponent(cc.Sprite).spriteFrame=m.default.Instance.fllows[f.default.getRandomNum(0,5,!0)],(o.position=e).x,o.setScale(f.default.getRandomNum(.7,1));var c=360*Math.random()*Math.PI/180,a=360*Math.random(),a=cc.v2(o.x+Math.sin(c)*a,o.y+Math.cos(c)*a+150);cc.v2(a.x,a.y+100),o.runAction(cc.sequence(cc.spawn(cc.moveTo(.255,a).easing(cc.easeCubicActionOut()),cc.scaleTo(.255,+Math.random()+.5),cc.moveBy(4.25,cc.v2(0,.8*-cc.winSize.height-Math.random()*cc.winSize.height)),cc.rotateBy(4.25,(1800*Math.random()+1200)*(.5<Math.random()?1:-1)),cc.sequence(cc.moveBy(.17*(8*Math.random()+6),cc.v2((100*Math.random()+100)*(.5<Math.random()?-1:1),0)),cc.moveBy(.17*(8*Math.random()+6),cc.v2((100*Math.random()+100)*(.5<Math.random()?-1:1),0)),cc.moveBy(.17*(8*Math.random()+6),cc.v2((100*Math.random()+100)*(.5<Math.random()?-1:1),0))),cc.sequence(cc.delayTime(.17*f.default.getRandomNum(20,24.5)),cc.fadeOut(.17))),cc.removeSelf(!0)))}},d.prototype.ShowLandParti=function(c,e){for(var t=e,a=[cc.v2(c.position.x-8,c.position.y),cc.v2(c.position.x+8,c.position.y)],i=0;i<a.length;i++)for(var r=a[i].x<c.position.x?-1:1,s=this,n=0;n<t;n++)!function(){var e=p.default.Spawn("juicePre",c);e.setSiblingIndex(4),e.getComponent(cc.Sprite).spriteFrame=m.default.Instance.fllows[f.default.getRandomNum(0,5,!0)],e.stopAllActions(),e.opacity=255,e.scale=.3;var t=a[i];e.setPosition(t);var n=cc.v2(f.default.getRandomNum(0,400,!0)*r,-f.default.getRandomNum(300,500,!0)),o=f.default.getRandomNum(1440,3600,!0)*r,t=f.default.getRandomNum(450,600,!0);e.runAction(cc.sequence(cc.spawn(cc.sequence(cc.jumpBy(f.default.RandomInteger(1500,1700)/t,n,t,1),cc.spawn(cc.moveBy(50/t,cc.v2(0,-30)),cc.fadeOut(50/t))),cc.scaleTo(f.default.RandomInteger(1500,1700)/t,f.default.getRandomNum(.4,.7,!1)),cc.rotateTo(f.default.RandomInteger(1500,1700)/t,o/2)),cc.callFunc(function(){p.default.Despawn("juicePre",e)},s)))}()},d.Instance=null,a([t(cc.Node)],d.prototype,"bgLayer",void 0),a([t(cc.Node)],d.prototype,"bgCamera",void 0),a([t(cc.Node)],d.prototype,"mainCamera",void 0),a([t(cc.Node)],d.prototype,"fruitNode",void 0),a([t(cc.Node)],d.prototype,"lineNode",void 0),a([t(cc.Node)],d.prototype,"bazieffect",void 0),a([t(cc.Node)],d.prototype,"downEffect",void 0),a([t(cc.Prefab)],d.prototype,"fruitPre",void 0),r=a([e],d));function d(){var e=null!==i&&i.apply(this,arguments)||this;return e.bgLayer=null,e.bgCamera=null,e.mainCamera=null,e.fruitNode=null,e.lineNode=null,e.bazieffect=null,e.downEffect=null,e.fruitPre=null,e.fruitS=[],e.step=0,e.guideTime=0,e.targetFruit=null,e.fruitHeigth=-1200,e.endOne=0,e}n.default=e,cc._RF.pop()},{"../Common/PoolManager":"PoolManager","../Common/Utils":"Utils","../common/DynamicLoad":"DynamicLoad","../common/PlayerInfo":"PlayerInfo","./AudioManager":"AudioManager","./GameManager":"GameManager","./MainGameUi":"MainGameUi"}],GameManager:[function(e,t,n){"use strict";cc._RF.push(t,"e5ba8qbQSBBz6Xl6OzdDwcL","GameManager");var o,c=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var c,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;0<=r;r--)(c=e[r])&&(i=(a<3?c(i):3<a?c(t,n,i):c(t,n))||i);return 3<a&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i,r,s=e("./FailedUi"),l=e("./MainGameUi"),u=e("./DataManager"),d=e("../common/PlayerInfo"),t=cc._decorator,e=t.ccclass,e=(t.property,i=cc.Component,c(p,i),(r=p).prototype.onLoad=function(){null!=r.Instance&&r.Instance.destroy(),r.Instance=this,cc.find("Canvas/bgLayer").setContentSize(cc.winSize.width,cc.winSize.height)},p.prototype.start=function(){this.PhysicsSystemCtrl(!0,!1)},p.prototype.update=function(e){},p.prototype.lateUpdate=function(){this.score=d.default.score},p.prototype.SetScore=function(e){this.score=e,l.default.Instance.SetScoreTween(this.score)},p.prototype.GameOver=function(){var e=cc.find("Canvas").getComponent("MainGameJS"),t=u.default.Instance.GetPlayerHighScore();this.score>t&&(t=this.score,u.default.Instance.SetPlayerHighScore(t)),e.SetScore(this.score),e.SetGameEndScore(),s.default.Instance.ShowFailedUi(d.default.score,t)},p.prototype.RestartGame=function(){cc.find("Canvas").getComponent("MainGameJS").RestartGame()},p.prototype.GetGameEndShowInfo=function(){return cc.find("Canvas").getComponent("MainGameJS").GetGameEndInfo()},p.prototype.ToEnd=function(){cc.find("Canvas").getComponent("MainGameJS").gameEnd1()},p.prototype.PhysicsSystemCtrl=function(e,t){cc.director.getPhysicsManager().enabled=e,cc.director.getPhysicsManager().gravity=cc.v2(0,-300),t&&(cc.director.getPhysicsManager().debugDrawFlags=cc.PhysicsManager.DrawBits.e_shapeBit),cc.director.getCollisionManager().enabled=e,cc.director.getCollisionManager().enabledDebugDraw=t},p.Instance=null,p.isShowAd=!1,r=a([e],p));function p(){var e=null!==i&&i.apply(this,arguments)||this;return e.isStart=!1,e.level=0,e.score=0,e.inGuide=!1,e}n.default=e,cc._RF.pop()},{"../common/PlayerInfo":"PlayerInfo","./DataManager":"DataManager","./FailedUi":"FailedUi","./MainGameUi":"MainGameUi"}],GameUiTools:[function(e,t,n){"use strict";cc._RF.push(t,"b21e8tF461OFalpptyeuAE2","GameUiTools"),e("GameConfig");e={newSprite:function(e,t){var n=new cc.Node;return t?(e=e.split(".")[0],n.addComponent(cc.Sprite).spriteFrame=GameTools.love2048FrameCache.getSpriteFrame(e)):n.addComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame("res/raw-assets/resources/"+e),n},setNodeSpriteFrame:function(e,t){e.getComponent(cc.Sprite).spriteFrame=GameTools.love2048FrameCache.getSpriteFrame(t)},setButtonClickEvents:function(e,t,n,o,c){var a=new Array;null==t.length?a[0]=t:a=t;for(var i=0;i<a.length;i++){var r=new cc.Component.EventHandler;r.target=e.node,r.component=e.node.name,r.handler=n,null==t.length?r.customEventData=o:r.customEventData=i;var s=a[i].addComponent(cc.Button);s.clickEvents.push(r),null!=c&&!c||(s.transition=cc.Button.Transition.SCALE,s.duration=.1,s.zoomScale=1.2)}},scheduleOnce:function(e,t,n){e.runAction(cc.sequence(cc.delayTime(n),cc.callFunc(t,e)))},loadingScene:function(n,e){e?cc.loader.loadRes("panel/LoadingLayer",function(e,t){t=cc.instantiate(t);cc.director.getScene().children[0].addChild(t),cc.director.preloadScene(n,function(){cc.director.loadScene(n)})}):cc.director.preloadScene(n,function(){cc.director.loadScene(n)})},loadingLayer:function(e){cc.loader.loadRes(e,function(e,t){e||(t=cc.instantiate(t),cc.director.getScene().children[0].addChild(t,100))})}};t.exports=e,cc._RF.pop()},{GameConfig:"GameConfig"}],HttpManagerJs:[function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"197e1hfNnxIcJx73V3VhUxY","HttpManagerJs");var c=e("GameConfig"),e=(o(e={URL:"https://connectivitycheck.gstatic.com/generate_204",cacheList:null,isBusy:null,req:null,perform:null,retGameId:0},"cacheList",[]),o(e,"ctor",function(){}),o(e,"checkHave",function(){this.isBusy||this.sendOne()}),o(e,"httpInitUrl",function(e){console.log("data",this.URL),this.retGameId=e}),o(e,"send",function(e,t,n,o){this.cacheList.push({type:e,data:t,func:n,target:o}),this.isBusy||this.sendOne()}),o(e,"sendOne",function(){var e,t;0!=this.cacheList.length&&(this.isBusy=!0,this.perform=this.cacheList.shift(),this.req=cc.loader.getXMLHttpRequest(),this.req.onreadystatechange=this.onDataHandler.bind(this),this.req.onerror=this.onErrorHandler.bind(this),this.req.ontimeout=this.onTimeoutHandler.bind(this),this.req.timeout=2e3,cc.log("pos",this.URL),this.req.open("POST",this.URL),this.req.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8"),t=this.returnLanguage(),console.log("gameIdid",this.retGameId),e=this.retGameId,t={type:this.perform.type,gid:e,mid:null,data:this.perform.data,languageType:t},t="send="+JSON.stringify(t),this.req.send(t))}),o(e,"onDataHandler",function(){var e,t,n;404!=this.req.status?4==this.req.readyState&&200<=this.req.status&&this.req.status<=207&&this.req.responseText&&(e=JSON.parse(this.req.responseText),this.isBusy=!1,this.perform.target?this.perform.func.call(this.perform.target,e.error,e.data,e.commendGame,e.gameInfo):this.perform.func(e)):(t=c.launchScene,n=c.Bros,c.caS,cc.director.loadScene(t,null,function(){var e;!n||(e=document.getElementById("GameDiv"))&&(e.style.backgroundImage=""),cc.loader.onProgress=null,console.log("Success to load scene: "+t)}))}),o(e,"returnLanguage",function(){return(""+window.navigator.language).toLocaleLowerCase()}),o(e,"onErrorHandler",function(){cc.log("网络错误"),this.isBusy=!1,this.perform.target?this.perform.func.call(this.perform.target,-1):this.perform.func(-1)}),o(e,"onTimeoutHandler",function(){cc.log("请求超时"),this.isBusy=!1,this.perform.target?this.perform.func.call(this.perform.target,-1):this.perform.func(-1)}),o(e,"clearAll",function(){for(var e=this.cacheList.length,t=0;t<e;t++){var n=this.cacheList[t];n&&(n.target?n.func.call(n.target,-1):n.func(-1))}this.cacheList.length=0}),e);t.exports=e,cc._RF.pop()},{GameConfig:"GameConfig"}],InputController:[function(e,t,n){"use strict";cc._RF.push(t,"2fb79pURUZExoy/hAOtHdvz","InputController");var o,c=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var c,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;0<=r;r--)(c=e[r])&&(i=(a<3?c(i):3<a?c(t,n,i):c(t,n))||i);return 3<a&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i,r,s=e("./GameFunction"),l=e("../common/PlayerInfo"),u=e("../Common/PoolManager"),d=e("../Common/Utils"),t=cc._decorator,e=t.ccclass,t=t.property,e=(i=cc.Component,c(p,i),(r=p).prototype.onLoad=function(){null!=r.Instance&&r.Instance.destroy(),r.Instance=this},p.prototype.start=function(){this.openTouch(),this.RockerJS=this.Rocker.getComponent("Rocker")},p.prototype.update=function(e){},p.prototype.openTouch=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},p.prototype.onTouchStart=function(e){var t;l.default.playerTouch&&null!=s.default.Instance.targetFruit&&(this.touchNum=1,t=this.node.convertToNodeSpaceAR(e.getLocation()).x,e=s.default.Instance.targetFruit.y,cc.tween(s.default.Instance.targetFruit).to(.1,{position:cc.v2(t,e)}).start())},p.prototype.onTouchMove=function(e){l.default.playerTouch&&null!=s.default.Instance.targetFruit&&(this.touchNum=1,s.default.Instance.targetFruit.x=this.node.convertToNodeSpaceAR(e.getLocation()).x)},p.prototype.onTouchEnd=function(e){var t=this;l.default.playerTouch&&null!=s.default.Instance.targetFruit&&1==this.touchNum&&(this.touchNum=0,s.default.Instance.targetFruit.getComponent(cc.PhysicsCircleCollider).radius=s.default.Instance.targetFruit.height/2,s.default.Instance.targetFruit.getComponent(cc.PhysicsCircleCollider).apply(),s.default.Instance.targetFruit.getComponent(cc.RigidBody).active=!0,s.default.Instance.targetFruit.getComponent(cc.RigidBody).type=cc.RigidBodyType.Dynamic,s.default.Instance.targetFruit.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,-800),s.default.Instance.targetFruit=null,this.scheduleOnce(function(){var e;setFruits?({startFruits:e}=setFruits,l.default.GameUpdateCtrl&&(e.length>t.createFruitCount?s.default.Instance.createOneFruit(e[t.createFruitCount]):s.default.Instance.createOneFruit(setFruits.randomFunction()),t.createFruitCount++)):l.default.GameUpdateCtrl&&(0==t.createFruitCount||1==t.createFruitCount?(s.default.Instance.createOneFruit(0),t.createFruitCount++):2==t.createFruitCount?(s.default.Instance.createOneFruit(1),t.createFruitCount++):3==t.createFruitCount||4==t.createFruitCount?(s.default.Instance.createOneFruit(2),t.createFruitCount++):5==t.createFruitCount?(s.default.Instance.createOneFruit(3),t.createFruitCount++):5<t.createFruitCount&&(s.default.Instance.createOneFruit(d.default.RandomInteger(0,5)),t.createFruitCount++))},.5))},p.prototype.closeTouch=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},p.prototype.addScore=function(){var e=u.default.Spawn("addScore",cc.find("Canvas/downEffParent"));e.position=cc.v2(0,200),e.scale=0,e.opacity=255,e.children[1].getComponent(cc.Label).string=this.comboNumber.toString(),e.runAction(cc.sequence(cc.spawn(cc.scaleTo(.5,1),cc.moveBy(.5,0,200)),cc.fadeOut(.5),cc.callFunc(function(){u.default.Despawn("addScore",e)})))},p.Instance=null,a([t(cc.Node)],p.prototype,"Rocker",void 0),a([t(cc.Node)],p.prototype,"stick",void 0),a([t],p.prototype,"Max_r",void 0),a([t(cc.Node)],p.prototype,"Arrow",void 0),a([t(cc.Node)],p.prototype,"knife",void 0),r=a([e],p));function p(){var e=null!==i&&i.apply(this,arguments)||this;return e.Rocker=null,e.stick=null,e.Max_r=100,e.RockerJS=null,e.speed=400,e.Arrow=null,e.knife=null,e.startPoint=null,e.touchPoint=null,e.endPoint=null,e.ddir=cc.v2(0,0),e.isCut=!1,e.comboTime=0,e.comboInterval=.4,e.comboNumber=0,e.comboMaxNum=7,e.touchNum=0,e.createFruitCount=0,e.istest=!1,e}n.default=e,cc._RF.pop()},{"../Common/PoolManager":"PoolManager","../Common/Utils":"Utils","../common/PlayerInfo":"PlayerInfo","./GameFunction":"GameFunction"}],KnifeCollision:[function(e,t,n){"use strict";cc._RF.push(t,"bf98eOWbcJGeLpI/I0HGW8j","KnifeCollision");var o,c=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var c,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;0<=r;r--)(c=e[r])&&(i=(a<3?c(i):3<a?c(t,n,i):c(t,n))||i);return 3<a&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("../common/PlayerInfo"),s=e("./GameFunction"),l=e("../Common/PoolManager"),u=e("../Common/Utils"),d=e("./GameManager"),p=e("./InputController"),f=e("./MainGameUi"),h=e("./AudioManager"),t=cc._decorator,e=t.ccclass,t=t.property,e=(i=cc.Component,c(m,i),m.prototype.start=function(){},m.prototype.update=function(e){},m.prototype.onCollisionEnter=function(e,t){var n;if("bazi"==e.node.group)r.default.tuoweiCtrl=!1,r.default.playerTouch=!0,e.node.stopAllActions(),t.node.children[2].getComponent(cc.ParticleSystem).stopSystem(),s.default.Instance.ribbonEffect(t.node.position,e.node,!0),e.node.removeComponent(cc.PolygonCollider),t.node.stopAllActions(),r.default.knifeLR=0<t.node.x?1:-1,t.node.children[1].scaleX=-r.default.knifeLR,this.great(t.node,e.node),s.default.Instance.CameraAoto(),s.default.Instance.CreateBazi(r.default.knifeLR),-1==r.default.knifeLR?((n=l.default.Spawn("arrowL",this.node.parent)).position=this.node.position,(p.default.Instance.Arrow=n).active=!0,n.angle=-45,n.position=this.node.position,n.runAction(cc.repeatForever(cc.sequence(cc.rotateBy(.8,-50),cc.rotateBy(1.6,100),cc.rotateBy(.8,-50)))),t.node.runAction(cc.sequence(cc.moveBy(.05,-20,0),cc.moveBy(.05,20,0))),e.node.runAction(cc.sequence(cc.moveBy(.05,-20,0),cc.moveBy(.05,20,0)))):((n=l.default.Spawn("arrowR",this.node.parent)).position=this.node.position,(p.default.Instance.Arrow=n).active=!0,n.angle=45,n.position=this.node.position,n.runAction(cc.repeatForever(cc.sequence(cc.rotateBy(.8,-50),cc.rotateBy(1.6,100),cc.rotateBy(.8,-50)))),t.node.runAction(cc.sequence(cc.moveBy(.05,20,0),cc.moveBy(.05,-20,0))),e.node.runAction(cc.sequence(cc.moveBy(.05,20,0),cc.moveBy(.05,-20,0)))),t.node.children[0].active=!1,t.node.children[1].active=!0;else if("default"==e.node.group){t.node.children[2].getComponent(cc.ParticleSystem).stopSystem(),e.node.removeComponent(cc.PolygonCollider),t.node.stopAllActions(),r.default.knifeLR=0<t.node.x?1:-1,t.node.children[0].active=!1,t.node.children[1].active=!0;for(var o=0;o<cc.find("Canvas/baziNode").children.length;o++)cc.find("Canvas/baziNode").children[o].stopAllActions();r.default.playerTouch=!1,d.default.Instance.ToEnd(),h.default.Instance.Play(0,!1,1),h.default.Instance.Play(4,!1,1)}},m.prototype.onCollisionStay=function(e,t){},m.prototype.onCollisionExit=function(e,t){},m.prototype.great=function(e,t){Math.abs(e.y-t.y)<=15?(h.default.Instance.Play(1,!1,1),r.default.tuoweiCtrl=!0,f.default.Instance.InjuredEffect(),t=l.default.Spawn("great",cc.find("Canvas/bazieffect")),0<e.x?t.position=cc.v2(e.x-40,e.y):t.position=cc.v2(e.x+40,e.y),t.runAction(cc.sequence(cc.spawn(cc.moveBy(.4,0,200),cc.rotateBy(.4,360)),cc.scaleTo(.15,1.1),cc.scaleTo(.15,1),cc.fadeOut(.2))),r.default.score+=10):(h.default.Instance.Play(0,!1,1),r.default.score+=5),f.default.Instance.SetScoreTween(r.default.score)},m.prototype.GhostBornEff=function(e,t){for(var n=u.default.RandomInteger(24,36),o=0;o<n;o++){var c=l.default.Spawn("star",cc.find("Canvas/downEffParent"));c.position=e,c.opacity=0,c.scale=u.default.Random(.5,1),c.angle=u.default.Random(0,360);var a=cc.v2(0,1);a.rotateSelf(u.default.AngleToRadian(360*Math.random()));var i=u.default.Random(20,150);c.position.add(a.mul(u.default.Random(0,30)));var r=u.default.Random(.3,.5),s=u.default.Random(.01,.012);c.runAction(cc.sequence(cc.delayTime(s),cc.delayTime(.6*r),cc.scaleTo(.4*r,0))),c.opacity=0,c.runAction(cc.sequence(cc.delayTime(s),cc.fadeTo(.1,u.default.Random(120,240)))),c.runAction(cc.sequence(cc.delayTime(s),cc.moveBy(r,a.mul(i)).easing(cc.easeCubicActionOut()),cc.callFunc(function(e){l.default.Despawn("star",e)},this))),u.default.Random(0,100)}},m.prototype.createLizi=function(e,t){for(var n=0;n<10;n++){var o=l.default.Spawn("star",cc.find("Canvas/upEffectParent"));o.scale=.1*t,o.position=u.default.convetOtherNodeSpaceAR(e,cc.find("Canvas/upEffectParent")),1==t&&(o.color=(new cc.Color).fromHEX("ffc049"));var c=new Array;c.push(-360,360),o.runAction(cc.sequence(cc.spawn(cc.jumpBy(.5,u.default.RandomInteger(-100,100),u.default.RandomInteger(-200,-100),u.default.RandomInteger(0,50),1),cc.rotateTo(.5,u.default.RandomIndexFromArr(c)),cc.fadeOut(.5)),cc.delayTime(.1)))}},m.prototype.createWord=function(e){var t=l.default.Spawn("star",cc.find("Canvas/upEffectParent"));t.position=u.default.convetOtherNodeSpaceAR(this.node,cc.find("Canvas/upEffectParent")),2==e?(t.scale=.3,t.opacity=200,t.runAction(cc.sequence(cc.spawn(cc.rotateBy(.2,400),cc.moveBy(.2,0,100)),cc.scaleTo(.2,.5),cc.scaleTo(.2,.4),cc.fadeOut(.1)))):(t.scale=.5,t.runAction(cc.sequence(cc.spawn(cc.rotateBy(.2,400),cc.moveBy(.2,0,100)),cc.scaleTo(.2,.6),cc.scaleTo(.2,.5),cc.fadeOut(.1))))},m.prototype.createSuipian=function(){var e=l.default.Spawn("suipian",this.node.parent);e.position=cc.v2(0,0),e.scale=cc.find("Canvas/baziNodeU").children[0].children[0].scale},m.prototype.createStar=function(){var e=l.default.Spawn("star",cc.find("Canvas/upEffectParent"));e.scale=u.default.Random(.1,1);var t=this.node.x+this.node.width/2,n=this.node.x-this.node.width/2,o=this.node.y;e.position=cc.v2(u.default.RandomInteger(n,t),o),e.runAction(cc.fadeOut(2))},m.prototype.planeBoomEffect=function(){l.default.Spawn("boom",cc.find("Canvas/upEffectParent")).position=u.default.convetOtherNodeSpaceAR(this.node,cc.find("Canvas/upEffectParent"))},m.prototype.clockEoilffect=function(t,e){for(var n=0;n<3;n++)setTimeout(function(){var e=l.default.Spawn("star",cc.find("Canvas/upEffectParent"));e.position=t.position,e.scale=.3,e.runAction(cc.sequence(cc.scaleTo(.5,1.1),cc.fadeOut(.5)))},300*n)},m.prototype.addScoreEffect=function(){var e=l.default.Spawn("add1",cc.find("Canvas/mainGameUi"));e.position=cc.find("Canvas/mainGameUi").children[0].position.add(cc.v2(0,50)),e.runAction(cc.spawn(cc.moveBy(.5,0,50),cc.fadeOut(.5)))},a([t(cc.Prefab)],m.prototype,"starPre",void 0),a([t(cc.Node)],m.prototype,"Arrow",void 0),a([t(cc.Prefab)],m.prototype,"prefabStrArr",void 0),a([e],m));function m(){var e=null!==i&&i.apply(this,arguments)||this;return e.starPre=null,e.Arrow=null,e.prefabStrArr=[],e}n.default=e,cc._RF.pop()},{"../Common/PoolManager":"PoolManager","../Common/Utils":"Utils","../common/PlayerInfo":"PlayerInfo","./AudioManager":"AudioManager","./GameFunction":"GameFunction","./GameManager":"GameManager","./InputController":"InputController","./MainGameUi":"MainGameUi"}],LanguageSetJs:[function(e,t,n){"use strict";cc._RF.push(t,"4754e8KuPZJCqklCNyKpG29","LanguageSetJs"),t.exports={language_1:{game_name:"「射苹果」",game_name1:"射苹果",game_info:"把握时机，射中苹果。",txtStart:"开始",txtMore:"更多游戏",txtAgain:"再玩一次",txtShare1:"在游戏中 ",txtShare2:"得分了，好啊!你和我一起来比赛!",bgRgb:"#3698C5",gameT1:"关注我们",gameT2:"纸牌接龙",gameT3:"锦上添花",gameUrl1:"http://g.regogame.com/game/9/",gameUrl2:"http://g.regogame.com/game/3/",gameT11:"关注微信",gameT12:"关注Kakao",gameT13:"关注Line",gameEndL:"游 戏 结 束",gameEndL1:"稍 候 查 看 分 数"},language_2:{game_name:"「Shot Apples」",game_name1:"Shot Apples",game_info:"Seize the opportunity and shoot the apple.",txtStart:"Start",txtMore:"More Game",txtAgain:"Play Again",txtShare1:"In Game ",txtShare2:" Let's play together!",bgRgb:"#3698C5",gameT1:"Follow Us",gameT2:"Thousand Flower",gameT3:"Eliminate Star",gameUrl1:"http://g.fromgame.com/game/53",gameUrl2:"http://g.fromgame.com/game/13",gameT11:"Focus WeChat",gameT12:"Focus Kakao",gameT13:"Focus Line",gameEndL:"Game OVer",gameEndL1:"View the score later"}},cc._RF.pop()},{}],LoadSceneJs:[function(e,t,n){"use strict";cc._RF.push(t,"3ef908fwfNIwJsOjET8tCh2","LoadSceneJs");var o={goToCover:function(e,t,n,o,c){var a=null==(a=e)||null==a||e;console.log("LoadBoolBeforeLoadS",a),this.needShow=!1,a&&a?(this.needShow=!0,showMyAds()):this.needShow=!1,this.needShow?(null==preloader&&this.startGoToGame(n,o,c),resCompleteFlag=!0,adCompleteFlag&&resCompleteFlag&&this.startGoToGame(n,o,c)):this.startGoToGame(n,o,c)},startGoToGame:function(e,t,n){console.log("goToScene"),noAdGoToScene()}};t.exports=o,cc._RF.pop()},{}],MainGameJS:[function(e,t,n){"use strict";cc._RF.push(t,"0e7a8SkMLxEY7nCB1Bqi8WZ","MainGameJS");var o=e("GameConfig"),c=e("GameUiTools"),a=e("MainManage");cc.Class({extends:cc.Component,properties:{gameEndLay:cc.Node,startBgNode:cc.Node,sceneScore:cc.Label,gameOverT1:cc.Label,gameOverT2:cc.Label,gameOverToEnd:cc.Node},onLoad:function(){cc.director.getCollisionManager().enabled=!0,cc.director.getPhysicsManager().enabled=!0,this.gameOveEndBool=!1,this.gameOverNum=0,this.gameWidth=cc.winSize.width,this.gameHeight=cc.winSize.height,o.playNum,o.playNum++,c.loadingLayer("panel/LinkIconSpr"),o.mainGameJs=this,o.publicGameBool||this.play()},play:function(){console.log(1);var e=this;adBreak({type:"next",name:"restart-game",beforeBreak:function(){e.enableButtons()},afterBreak:function(){e.enableButtons()}})},enableButtons:function(){},addTouchEvents:function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,function(e){if(o.GAME_OVER_BOOL&&o.noTouchBool)return o.gameScore++,t.sceneScore.string=o.gameScore,console.log("ggoog",o.gameScore),2<=o.gameScore&&(this.lastPos=e.getLocation(),t.gameEnd()),!0},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.on_touch_move,this),this.node.on(cc.Node.EventType.TOUCH_END,this.on_touch_end,this)},on_touch_move:function(){console.log("touchMoved")},on_touch_end:function(){console.log("touchEnd")},gameEnd:function(){o.GAME_OVER_BOOL=!1,a.gameOverShowText(o.gameScore,1),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(this.gameEnd1.bind(this))))},returnCurrentLanType:function(){var e=1;switch(cc.sys.language){case cc.sys.LANGUAGE_CHINESE:e="zh-TW"==window.navigator.language||"zh-tw"==window.navigator.language||"zh-HK"==window.navigator.language||"zh-hk"==window.navigator.language?(cc.log("繁体"),2):(cc.log("简体"),1);break;case cc.sys.LANGUAGE_KOREAN:e=4;break;default:e=3}return e},gameEnd1:function(){var e=this,t=this.returnCurrentLanType();1==t?(this.gameOverT1.string="游 戏 结 束",this.gameOverT2.string="点 击 查 看 分 数"):2==t?(this.gameOverT1.string="遊 戲 結 束",this.gameOverT2.string="點 擊 查 看 分 數"):4==t?(this.gameOverT1.string="게임 종료",this.gameOverT2.string="클릭 하여 점수 보기"):(this.gameOverT1.string="Game Over",this.gameOverT2.string="Click to view the score"),this.gameOveEndBool=!0,this.gameOverT1.node.zIndex=999,this.gameOverT2.node.zIndex=999,this.gameOverToEnd.zIndex=999,this.gameOverT1.node.opacity=0,this.gameOverT1.node.y=100,this.gameOverToEnd.y=0,this.gameOverT1.node.runAction(cc.sequence(cc.delayTime(.2),cc.spawn(cc.fadeIn(1),cc.moveBy(1,0,-50)),cc.delayTime(.3))),this.gameOverToEnd.runAction(cc.sequence(cc.fadeTo(1,100),cc.callFunc(function(){e.gameOverToEnd.getComponent(cc.Button).enabled=!0}))),this.gameOverT2.node.opacity=0,this.gameOverT2.node.y=this.gameOverT1.node.y-100,this.gameOverT2.node.runAction(cc.sequence(cc.delayTime(.2),cc.spawn(cc.fadeIn(1),cc.moveBy(1,0,-50)),cc.delayTime(.3))),this.gameOverT2.node.runAction(cc.sequence(cc.delayTime(2),cc.scaleTo(.3,1.2).easing(cc.easeSineInOut()),cc.scaleTo(.3,1).easing(cc.easeSineInOut()))).repeatForever()},initEndLayer:function(){this.gameOverT1.node.active=!1,this.gameOverT2.node.active=!1,this.gameOverToEnd.active=!1,o.publicGameBool||adBreak({type:"next",name:"restart-game"}),a.gotoEndLayer1()},start:function(){},update:function(e){this.gameOverGoToOVer()},gameOverGoToOVer:function(){this.gameOveEndBool&&(this.gameOverNum++,900<=this.gameOverNum&&(this.gameOverNum=0,this.gameOveEndBool=!1))},SetScore:function(e){o.gameScore=e},RestartGame:function(){o.GAME_OVER_BOOL=!0,o.gameScore=0,o.publicGameBool||adBreak({type:"next",name:"restart-game"}),c.loadingScene("MainGameScene")},SetGameEndScore:function(){a.gameOverShowText(o.gameScore,1)},GetGameEndInfo:function(){return a.endHttpShowInfo}}),cc._RF.pop()},{GameConfig:"GameConfig",GameUiTools:"GameUiTools",MainManage:"MainManage"}],MainGameUi:[function(e,t,n){"use strict";cc._RF.push(t,"47901xGYuJBULv7U12/mbpk","MainGameUi");var o,c=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var c,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;0<=r;r--)(c=e[r])&&(i=(a<3?c(i):3<a?c(t,n,i):c(t,n))||i);return 3<a&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i,r,s=e("../common/PlayerInfo"),l=e("./GameFunction"),u=e("./EffectCenter"),d=e("./AudioManager"),p=e("./DataManager"),f=e("../commonJs/GameConfig"),h=e("../common/DynamicLoad"),t=cc._decorator,e=t.ccclass,t=t.property,e=(i=cc.Component,c(m,i),(r=m).prototype.onLoad=function(){null!=r.Instance&&r.Instance.destroy(),r.Instance=this},m.prototype.start=function(){var e=this;this.ShowScorePanel(),p.default.Instance.GetLevel()%5==1?(this.passlevelYQ=.12,this.lerpCtrl=!0):p.default.Instance.GetLevel()%5==2?(this.passlevelYQ=.31,this.lerpCtrl=!0):p.default.Instance.GetLevel()%5==3?(this.passlevelYQ=.51,this.lerpCtrl=!0):p.default.Instance.GetLevel()%5==4?(this.passlevelYQ=.71,this.lerpCtrl=!0):p.default.Instance.GetLevel()%5==0&&(this.passlevelYQ=1,this.lerpCtrl=!0),cc.tween(this.adsButton).call(function(){e.adsButton.children[0].getComponent(cc.Sprite).spriteFrame=h.default.Instance.adsbutton[0]}).delay(.5).call(function(){e.adsButton.children[0].getComponent(cc.Sprite).spriteFrame=h.default.Instance.adsbutton[1]}).delay(.5).union().repeatForever().start()},m.prototype.update=function(e){this.UpdateScoreLabel(e),this.lerpCtrl&&this.lerpNumFunc(this.passlevelYQ),this.levelPanel.children[1].getComponent(cc.Label).string=p.default.Instance.GetLevel().toString()},m.prototype.adsButtonFunc=function(){clickChangeFruit?l.default.Instance.targetFruit&&(l.default.Instance.targetFruit.destroy(),l.default.Instance.targetFruit=null,l.default.Instance.createOneFruit(Math.floor(6*Math.random()))):adLink&&(window.location.href=adLink)},m.prototype.TestPasslevel=function(){var e=this;this.lerpCtrl=!0,this.nowYQ>=this.passlevelYQ&&(this.levelPanel.children[2].runAction(cc.sequence(cc.delayTime(1.3),cc.callFunc(function(){e.relerpCtrl=!0,e.lerpCtrl=!1}),cc.callFunc(function(){e.level+=1,e.nowYQ=0,e.passlevelYQ=50*e.level}))),d.default.Instance.Play(0,!1,1),u.default.Instance.ShootFlower())},m.prototype.showLevelProgressInfo=function(){this.levelPanel.children[1].children[0].getComponent(cc.Label).string=this.level.toString(),this.levelPanel.children[2].children[0].getComponent(cc.Label).string=(this.level+1).toString(),this.levelPanel.children[1].runAction(cc.sequence(cc.scaleTo(.2,1.2),cc.scaleTo(.2,1))),this.levelPanel.children[2].runAction(cc.sequence(cc.scaleTo(.2,1.2),cc.scaleTo(.2,1))),this.levelPanel.children[0].children[0].getComponent(cc.Sprite).fillRange=0,this.lerpCtrl=!1},m.prototype.lerpNumFunc=function(e){this.levelProgress.children[0].children[0].getComponent(cc.Sprite).fillRange<e?(this.levelProgress.children[0].children[0].getComponent(cc.Sprite).fillRange+=.005,this.levelProgress.children[0].children[0].getComponent(cc.Sprite).fillRange>=e&&(this.lerpCtrl=!1)):(this.levelProgress.children[0].children[0].getComponent(cc.Sprite).fillRange-=.015,this.levelProgress.children[0].children[0].getComponent(cc.Sprite).fillRange==e&&(this.lerpCtrl=!1))},m.prototype.lerpNumFunc1=function(){this.levelProgress.children[0].children[0].getComponent(cc.Sprite).fillRange-=.03,this.levelProgress.children[0].children[0].getComponent(cc.Sprite).fillRange<=0&&(this.relerpCtrl=!1,this.showLevelProgressInfo())},m.prototype.GuideArrawAction=function(){this.guidePanel.children[0].active=!0,this.guidePanel.children[0].runAction(cc.repeatForever(cc.sequence(cc.fadeIn(.1),cc.moveTo(1,240,190),cc.moveTo(.5,120,70),cc.fadeOut(.5),cc.moveTo(.01,-240,190))))},m.prototype.closeGuide=function(){this.guidePanel.children[0].active=!1},m.prototype.SetScoreTween=function(e){this.targetScore!=e&&(this.targetScore=e,this.scoreChangeValue=Math.abs(this.targetScore-this.currentScore),this.isScoreChange=!0)},m.prototype.UpdateScoreLabel=function(e){this.isScoreChange&&(this.currentScore+=e*this.scoreChangeValue*5,this.currentScore>=this.targetScore&&(this.currentScore=this.targetScore,this.isScoreChange=!1),e=Math.floor(this.currentScore),this.scoreLabel.string=e.toString())},m.prototype.SetScore=function(e){var t=e.toString().length-1;this.scoreLabel.node.children[1].x=60+25*t,e<1e3?this.scoreLabel.string=String(e):(this.scoreLabel.string=String(e),this.scoreLabel.node.scale=.7),this.scorePanel.children[0].children[0].active=!1,this.scorePanel.children[0].children[1].active=!0,s.default.score=e},m.prototype.InjuredEffect=function(){this.injuredPanel.active=!0,this.injuredPanel.runAction(cc.sequence(cc.fadeTo(.1,150),cc.fadeTo(.1,0)))},m.prototype.HideScorePanel=function(){this.scorePanel.runAction(cc.moveBy(.5,0,250)),this.levelPanel.runAction(cc.moveBy(.5,0,250)),this.levelProgress.runAction(cc.moveBy(.5,0,250)),this.heartPanel.runAction(cc.moveBy(.5,0,250))},m.prototype.ShowScorePanel=function(){var e=this.node.children[0].position;this.scorePanel.runAction(cc.moveTo(.5,cc.v2(this.scorePanel.x,e.y-20)).easing(cc.easeBackOut())),this.levelPanel.runAction(cc.moveTo(.5,e).easing(cc.easeBackOut())),this.levelProgress.runAction(cc.moveTo(.5,cc.v2(-230,e.y-50)).easing(cc.easeBackOut())),this.heartPanel.runAction(cc.moveTo(.5,cc.v2(270,e.y-50)).easing(cc.easeBackOut()))},m.prototype.showCongratulation=function(){var e=this;d.default.Instance.Play(1,!1,1),s.default.GameUpdateCtrl=!1,this.congratulation.active=!0,this.player.getComponent(cc.PolygonCollider).enabled=!1,this.congratulation.children[1].children[2].getComponent(cc.Label).string=s.default.score.toString(),this.congratulation.children[1].runAction(cc.sequence(cc.scaleTo(.5,1).easing(cc.easeBackOut()),cc.callFunc(function(){e.congratulation.children[2].active=!0})))},m.prototype.closeCongratulation=function(){var e=this;this.congratulation.children[2].active=!1,this.congratulation.children[1].runAction(cc.sequence(cc.scaleTo(.5,0).easing(cc.easeBackIn()),cc.callFunc(function(){e.congratulation.active=!1,s.default.GameUpdateCtrl=!0}))),f.publicGameBool||adBreak({type:"next",name:"restart-game"}),this.scheduleOnce(function(){e.player.getComponent(cc.PolygonCollider).enabled=!0},1)},m.Instance=null,a([t(cc.Node)],m.prototype,"mainCamera",void 0),a([t(cc.Node)],m.prototype,"bgLayer",void 0),a([t(cc.Label)],m.prototype,"scoreLabel",void 0),a([t(cc.Node)],m.prototype,"scorePanel",void 0),a([t(cc.Node)],m.prototype,"guidePanel",void 0),a([t(cc.Node)],m.prototype,"injuredPanel",void 0),a([t(cc.Node)],m.prototype,"levelPanel",void 0),a([t(cc.Node)],m.prototype,"levelProgress",void 0),a([t(cc.Node)],m.prototype,"heartPanel",void 0),a([t(cc.Node)],m.prototype,"congratulation",void 0),a([t(cc.Node)],m.prototype,"adsButton",void 0),a([t(cc.Node)],m.prototype,"player",void 0),r=a([e],m));function m(){var e=null!==i&&i.apply(this,arguments)||this;return e.mainCamera=null,e.bgLayer=null,e.scoreLabel=null,e.scorePanel=null,e.guidePanel=null,e.injuredPanel=null,e.levelPanel=null,e.levelProgress=null,e.heartPanel=null,e.congratulation=null,e.adsButton=null,e.player=null,e.basicsScore=300,e.currentScore=0,e.targetScore=0,e.scoreChangeValue=0,e.isScoreChange=!1,e.lerpCtrl=!1,e.relerpCtrl=!1,e.level=1,e.nowYQ=0,e.passlevelYQ=1,e.congratulationTime=0,e}n.default=e,cc._RF.pop()},{"../common/DynamicLoad":"DynamicLoad","../common/PlayerInfo":"PlayerInfo","../commonJs/GameConfig":"GameConfig","./AudioManager":"AudioManager","./DataManager":"DataManager","./GameFunction":"GameFunction","./EffectCenter":"EffectCenter"}],MainManage:[function(e,t,n){"use strict";cc._RF.push(t,"946adGkxvdBmZXnlD952XtK","MainManage");var c=e("HttpManagerJs"),o=e("LanguageSetJs"),a=e("GameConfig"),i=e("LoadSceneJs"),r=(e("GameUiTools"),{gameHttpId:0,subScoreHttp:null,gameNameText:null,gameInfoText:null,txtStartText:null,txtMoreText:null,txtAgainText:null,gameEndLText:null,gameEndL1Text:null,bgLayRgb:null,gameEndName1:null,gameEndName2:null,gameEndUrl1:null,gameEndUrl2:null,langugeType:1,ranLinkData:null,adShowBefore:!1,adShowAfter:!0,endLayCol:null,moreBtnBgCol:null,moreBtnTextCol:null,recGameData:null,recGameUrl:null,recGameDelPau:null,recGameDelPer:null,recGameimg1:null,recGameimg2:null,recGamePos:null,InfoData:null,endShow0:null,endShow1:null,endShow2:null,endShow3:null,infoGameName:null,showText:null,startText:null,moreGameText:null,playAgainText:null,endHttpShowInfo:null,moreGameUrl:null,init:function(e,t,n){if(!a.publicGameBool){if(1<=a.playNum)return;a.playNum++}a.launchScene=e,a.Bros=t,a.caS=n,this.curType=1,this.getHttpGameId(),console.log("thisg",this.gameHttpId),c.httpInitUrl(this.gameHttpId);var o=this.initLanguage();this.gameNameText=o.game_name,this.gameInfoText=o.game_info,this.txtStartText=o.txtStart,this.txtMoreText=o.txtMore,this.txtAgainText=o.txtAgain,this.gameEndLText=o.gameEndL,this.gameEndL1Text=o.gameEndL1,this.bgLayRgb=o.bgRgb,this.gameEndName1=o.gameT2,this.gameEndName2=o.gameT3,this.gameEndUrl1=o.gameUrl1,this.gameEndUrl2=o.gameUrl2,this.langugeType=this.curType,i.goToCover(this.adShowBefore,this.adShowAfter,e,t,n)},getHttpGameId:function(){var e=window.location.href,t=e.substring(0,e.lastIndexOf("//")+2),n=window.location.host,o=t+n+"/Service/Share/index";this.gameAllHttp=o,cc.log("gameAll",this.gameAllHttp),this.subScoreHttp=t+n+"/Service/Score/index",this.gamePvHttp=t+n+"/Service/GamePv/index";t=document.URL,n=0,t=t.substring(t.lastIndexOf("/game/")+1,t.length).split("/");2<=t.length&&(n=t[1]),this.gameHttpId=n,cc.log("gameId",n),e.substring(e.lastIndexOf("//")+4,e.lastIndexOf("com")+3),this.moreGameUrl="https://ys.mihoyo.com/"},gameOverShowText:function(e,t){console.log("saveScore")},ajaxOnLogoResult:function(){},ajaxLoad:function(e,t,n){var o=cc.loader.getXMLHttpRequest();o.onreadystatechange=n,o.open("POST",e),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(t)},scoreResult:function(e){null!=e.currentTarget.response&&""!=e.currentTarget.response&&(e=JSON.parse(e.currentTarget.response),cc.log("endshow",e.content),r.endHttpShowInfo=e.content)},initLanguage:function(){return cc.sys.language==cc.sys.LANGUAGE_CHINESE?(this.curType=1,o.language_1):(cc.log("英文"),this.curType=2,o.language_2)},getLinkGameReturn:function(e,t,n,o){console.log("err0",e),console.log("err1",t),console.log("err2",n),console.log("err3",o),0==e&&(this.ranLinkData=t,console.log("LoadMainGameScnee"),o=a.launchScene,e=a.Bros,t=a.caS,i.goToCover(this.adShowBefore,this.adShowAfter,o,e,t))},ranRecGameData:function(){var e;null!=this.recGameData&&""!=this.recGameData&&(this.returnBool=!1,e=this.recGameData.length,e=a.returnRanNum(1,e)-1,cc.log("ranNNN",e),this.recGameUrl=this.recGameData[e].data_link,this.recGameDelPer=this.recGameData[e].delay_per,this.recGameDelPau=this.recGameData[e].delay_pau,this.recGameimg1=this.recGameData[e].img_1,this.recGameimg2=this.recGameData[e].img_2,this.recGamePos=this.recGameData[e].poistion)},ranLinkUrl:function(){if(null!=this.ranLinkData&&this.ranLinkData.gameList&&null!=this.ranLinkData.gameList){var e=this.ranLinkData.gameList.length,e=a.returnRanNum(1,e)-1;return cc.log("templ",e,this.ranLinkData.gameList),cc.log("url",this.ranLinkData.gameList[0].gameName,this.ranLinkData.gameList[0].gameUrl),e}return null},gotoEndLayer:function(){var e;a.publicGameBool?this.showGameEndLayer():(adEndComplete=!1,resEndComplete=!1,this.needShow=null,1==window.navigator.onLine?(e=this.adShowAfter,console.log("ad",e),(e=null==e||null==e||this.adShowAfter)?(this.needShow=!0,console.log("showMyad"),showMyAds()):this.needShow=!1):(console.log("showOver1"),this.showGameEndLayer(),this.needShow=null),console.log("showMyad2",this.needShow),null!=this.needShow&&(console.log("showMyad3"),this.needShow?(console.log("pre",preloader),null==preloader&&this.showGameEndLayer(),resEndComplete=!0,adEndComplete&&resEndComplete&&(console.log("showOver1"),this.showGameEndLayer())):(console.log("gam"),this.showGameEndLayer())))},gotoEndLayer1:function(){a.publicGameBool,this.showGameEndLayer()},showAd:function(){showMyAds()},showGameEndLayer:function(){cc.find("Canvas/gameManager").getComponent("GameManager").GameOver()}});t.exports=r,cc._RF.pop()},{GameConfig:"GameConfig",GameUiTools:"GameUiTools",HttpManagerJs:"HttpManagerJs",LanguageSetJs:"LanguageSetJs",LoadSceneJs:"LoadSceneJs"}],NewAttribute:[function(e,t,n){"use strict";cc._RF.push(t,"62ee1m0pwFHWpkb09UZL+1E","NewAttribute");var o=this&&this.__decorate||function(e,t,n,o){var c,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;0<=r;r--)(c=e[r])&&(i=(a<3?c(i):3<a?c(t,n,i):c(t,n))||i);return 3<a&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,t=c.ccclass,c=c.property,t=(o([c({displayName:"昵称"})],a.prototype,"nickName",void 0),o([c({displayName:"Q群"})],a.prototype,"qGroup",void 0),o([t("Player")],a));function a(){this.nickName="大掌教",this.qGroup="704391772"}n.default=t,cc._RF.pop()},{}],PhysicsParticle:[function(e,t,n){"use strict";cc._RF.push(t,"73fcd1QF4lBEY8WPMIj3xr6","PhysicsParticle");var o,c=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var c,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;0<=r;r--)(c=e[r])&&(i=(a<3?c(i):3<a?c(t,n,i):c(t,n))||i);return 3<a&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("../Common/PoolManager"),t=cc._decorator,e=t.ccclass,t=t.property,e=(i=cc.Component,c(s,i),s.prototype.Reset=function(){this.node.stopAllActions(),this.node.scale=1,this.velocity=cc.v2(0,0),this.dropTimeTicker=0,this.isDead=!1},s.prototype.SetVelocity=function(e,t){this.velocity=e,this.dropTime=t,this.dropTimeTicker=this.dropTime},s.prototype.update=function(e){this.node.x+=this.velocity.x*e,this.node.y+=this.velocity.y*e,this.velocity.y+=this.gravityScale*e,this.isDead||(this.dropTimeTicker-=e,this.dropTimeTicker<=0&&(this.isDead=!0,this.node.runAction(cc.sequence(cc.scaleTo(this.deadTime,0),cc.callFunc(function(e){r.default.Despawn(this.prefabName,e)},this)))))},a([t],s.prototype,"prefabName",void 0),a([t],s.prototype,"gravityScale",void 0),a([t],s.prototype,"dropTime",void 0),a([t],s.prototype,"deadTime",void 0),a([t(cc.Vec2)],s.prototype,"velocity",void 0),a([e],s));function s(){var e=null!==i&&i.apply(this,arguments)||this;return e.prefabName="default",e.gravityScale=0,e.dropTime=0,e.deadTime=0,e.dropTimeTicker=0,e.isDead=!1,e.velocity=cc.v2(0,0),e}n.default=e,cc._RF.pop()},{"../Common/PoolManager":"PoolManager"}],PlayerInfo:[function(e,t,n){"use strict";cc._RF.push(t,"ea489dPDU9OZYOr2dE1HqB7","PlayerInfo"),Object.defineProperty(n,"__esModule",{value:!0});o.playerTouch=!0,o.score=0,o.knifeStatic="Idle",o.knifeLR=1,o.GameUpdateCtrl=!0,o.playNum=0,o.tuoweiCtrl=!1,o.bgNumber=0,t=o;function o(){}n.default=t,cc._RF.pop()},{}],PoolManager:[function(e,t,n){"use strict";cc._RF.push(t,"42678O0bOREZKAMjCljpxI3","PoolManager");var o,c=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var c,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;0<=r;r--)(c=e[r])&&(i=(a<3?c(i):3<a?c(t,n,i):c(t,n))||i);return 3<a&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i,r,s=cc._decorator,t=s.ccclass,s=s.property,t=(i=cc.Component,c(l,i),(r=l).prototype.onLoad=function(){null!=r.Instance&&r.Instance.destroy(),(r.Instance=this).allPrefabMap=new Map,this.poolMap=new Map;for(var e=0;e<this.allPrefab.length;e++){this.allPrefabMap.set(this.allPrefab[e].name,this.allPrefab[e]),cc.log(this.allPrefab[e].name);var t=new cc.NodePool;this.poolMap.set(this.allPrefab[e].name,t)}},l.Spawn=function(e,t){if(void 0===t&&(t=null),!r.Instance.poolMap.has(e))return cc.warn("no prefab named "+e),null;var n=r.Instance.poolMap.get(e);if(0<n.size()){n=n.get();return null!=t&&(n.parent=t),n}e=cc.instantiate(r.Instance.allPrefabMap.get(e));return null!=t&&(e.parent=t),e},l.Despawn=function(e,t){if(!r.Instance.poolMap.has(e))return cc.log("回收失败,节点名 : "+e),null;r.Instance.poolMap.get(e).put(t)},l.GetPrefab=function(e){return r.Instance.allPrefabMap.has(e)?r.Instance.allPrefabMap.get(e):null},l.Preload=function(e,t){if(!r.Instance.poolMap.has(e))return null;for(var n=r.Instance.poolMap.get(e),o=0;o<t;o++){var c=cc.instantiate(r.Instance.allPrefabMap.get(e));n.put(c)}},l.Instance=null,a([s([cc.Prefab])],l.prototype,"allPrefab",void 0),r=a([t],l));function l(){var e=null!==i&&i.apply(this,arguments)||this;return e.allPrefab=[],e.allPrefabMap=null,e.poolMap=null,e}n.default=t,cc._RF.pop()},{}],RandomFly:[function(e,t,n){"use strict";cc._RF.push(t,"a801awRcfxIuaFIGRbzJh/6","RandomFly");var o,c=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var c,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;0<=r;r--)(c=e[r])&&(i=(a<3?c(i):3<a?c(t,n,i):c(t,n))||i);return 3<a&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("./SpriteManager"),s=e("./Utils"),t=cc._decorator,e=t.ccclass,t=t.property,e=(i=cc.Component,c(l,i),l.prototype.onLoad=function(){},l.prototype.SetId=function(e){e<1&&(e=1),4<e&&(e=4);var t=r.default.Instance.GetSpriteFrame("littleWing"+e),e=r.default.Instance.GetSpriteFrame("littleBody"+e);this.wing_l.getComponent(cc.Sprite).spriteFrame=t,this.wing_r.getComponent(cc.Sprite).spriteFrame=t,this.body.getComponent(cc.Sprite).spriteFrame=e},l.prototype.startFun=function(){this.wing_r.stopAllActions(),this.wing_l.stopAllActions(),this.wingAction(),this.isUser=!0,this.isUpdate=!0,this.turnNum=s.default.Random(10,20),this.mosquitoSpeedR=0,this.mosquitoTargetR=0,this.mosquitoTargetMaxR=359,this.mosquitoAddR=!0,this.mapScale=1,this.onEdgeFlag=!0,this.isTurn=!0,this.setMosquitoSpeed()},l.prototype.wingAction=function(){this.wing_r.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.2,1).easing(cc.easeSineInOut()),cc.scaleTo(.2,.4,1).easing(cc.easeSineInOut())))),this.wing_l.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.2,-1,1).easing(cc.easeSineInOut()),cc.scaleTo(.2,-.4,1).easing(cc.easeSineInOut()))))},l.prototype.start=function(){},l.prototype.setMosquitoSpeed=function(){360<=this.node.angle?this.node.angle-=360:this.node.angle<0&&(this.node.angle+=360),this.mosquitoSpeedR=Math.random()*this.mosquitoSpeedMaxR*2-this.mosquitoSpeedMaxR;var e=Math.random()*this.mosquitoTargetMaxR*(Math.abs(this.mosquitoSpeedR)/(this.mosquitoSpeedMaxR+.4*this.mapScale));0<this.mosquitoSpeedR?(this.mosquitoTargetR=this.node.angle+e,this.mosquitoAddR=!0):(this.mosquitoTargetR=this.node.angle-e,this.mosquitoAddR=!1),this.checkEdgeDelayCount=0,this.onEdgeFlag&&2<Math.abs(this.mosquitoSpeedR)&&(this.mosquitoSpeedR=this.mosquitoSpeedR/3*2,this.mosquitoTargetR=this.mosquitoTargetR/3*2),this.onEdgeFlag=!1,this.turnNum--,this.turnNum<=0&&(this.isTurn=!1)},l.prototype.updateMosquito=function(){var e=this.mosquitoSpeedLen,t=this.mosquitoSpeedR,n=this.mosquitoTargetR,o=this.node,e=this.getPointByCPAndAngleAndLen(o.getPosition(),o.angle+t,e);o.setPosition(e),o.angle+=t,this.mosquitoAddR?o.angle>=n&&this.setMosquitoSpeed():o.angle<=n&&this.setMosquitoSpeed()},l.prototype.setPos=function(){this.node.position.x<0?this.newPos=cc.v2(-cc.winSize.width/2-100,this.node.position.y):this.newPos=cc.v2(cc.winSize.width/2+100,this.node.position.y),this.isUser=!1},l.prototype.setPos_1=function(){this.isUpdate=!1,this.scheduleOnce(function(){this.isUpdate=!0,this.setPos()},.5)},l.prototype.update=function(e){this.isUpdate&&this.isUser&&(this.updateMosquito(),this.checkOnEdge(!0)),this.isFade||(this.fadeTicker-=e,this.fadeTicker<0&&(this.fadeTicker=0,this.isFade=!0,this.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(e){},this)))))},l.prototype.updateMove_1=function(e){this.dir=cc.v2(this.node.position).sub(this.newPos).normalize().neg();var t=this.dir.x*this.mosquitoSpeedLen*3*1,n=this.dir.y*this.mosquitoSpeedLen*3*1,t=this.node.x+t,n=this.node.y+n;this.node.x=t,this.node.y=n;n=360-(n=180*Math.atan2(this.dir.y,this.dir.x)/Math.PI)+90;this.node.angle=n},l.prototype.updateMove=function(e){this.dir=cc.v2(this.node.position).sub(this.newPos).normalize().neg();var t=this.dir.x*this.mosquitoSpeedLen*1,n=this.dir.y*this.mosquitoSpeedLen*1,t=this.node.x+t,n=this.node.y+n;this.node.x=t,this.node.y=n;n=360-(n=180*Math.atan2(this.dir.y,this.dir.x)/Math.PI)+90;this.node.angle=n},l.prototype.setMosquitoBackSpeed=function(){this.isTurn=!1,this.scheduleOnce(function(){this.isTurn=!0,this.setMosquitoSpeed()},2)},l.prototype.checkOnEdge=function(e){(this.node.x>cc.winSize.width/2+100||this.node.x<-cc.winSize.width/2-100||this.node.y>cc.winSize.height/2+100||this.node.y<-cc.winSize.height/2-100)&&(e?this.setMosquitoBackSpeed():this.node.active=!1)},l.prototype.getAngle=function(e,t,n,o){var c=Math.abs(e-n),a=Math.abs(t-o),a=a/Math.sqrt(Math.pow(c,2)+Math.pow(a,2)),a=Math.acos(a),a=180/(Math.PI/a);return o<t&&(a=180-a),n<e&&(a*=-1),a},l.prototype.getPointByCPAndAngleAndLen=function(e,t,n){var o=-t*Math.PI/180,t=n*Math.cos(o),o=n*Math.sin(o);return cc.v2(e.x+o,e.y+t)},a([t],l.prototype,"id",void 0),a([t(cc.Node)],l.prototype,"wing_r",void 0),a([t(cc.Node)],l.prototype,"wing_l",void 0),a([t(cc.Node)],l.prototype,"body",void 0),a([t],l.prototype,"mosquitoSpeedLen",void 0),a([t],l.prototype,"mosquitoSpeedMaxR",void 0),a([t],l.prototype,"fadeTime",void 0),a([e],l));function l(){var e=null!==i&&i.apply(this,arguments)||this;return e.id=1,e.wing_r=null,e.wing_l=null,e.body=null,e.isUser=!0,e.isUpdate=!0,e.turnNum=0,e.mosquitoSpeedLen=2,e.mosquitoSpeedMaxR=4,e.mosquitoSpeedR=0,e.mosquitoTargetR=0,e.mosquitoTargetMaxR=359,e.mosquitoAddR=!0,e.checkEdgeDelayCount=0,e.newPos=cc.v2(0,0),e.dir=cc.v2(0,1),e.fadeTime=0,e.fadeTicker=1,e.isFade=!1,e.mapScale=1,e.onEdgeFlag=!0,e.isTurn=!1,e}n.default=e,cc._RF.pop()},{"./SpriteManager":"SpriteManager","./Utils":"Utils"}],RenderWater:[function(e,t,n){"use strict";cc._RF.push(t,"ed67fc+jBJNaKKrcIP1lh6B","RenderWater");var o,c=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var c,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;0<=r;r--)(c=e[r])&&(i=(a<3?c(i):3<a?c(t,n,i):c(t,n))||i);return 3<a&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i,r=cc._decorator,t=r.ccclass,r=r.property,t=(i=cc.Component,c(s,i),s.prototype.start=function(){},s.prototype.onLoad=function(){var e=new cc.RenderTexture;e.initWithSize(cc.winSize.width,cc.winSize.height);var t=new cc.SpriteFrame;t.setTexture(e),this.waterCamera.targetTexture=e,this.waterConnect.spriteFrame=t},s.prototype.createWater=function(){this.resetWater();for(var e=0;e<50;e++){var t=this._water_pool.shift();t||(t=cc.instantiate(this.prefab_water),this.waterParent.addChild(t)),t.active=!1,t.scale=.4,t.x=this.cup.x,t.y=this.cup.y+10}this._waterGenrateCount=0,this.schedule(this.scheduleWater,.05,this.waterParent.childrenCount-1)},s.prototype.scheduleWater=function(){this.waterParent.children[this._waterGenrateCount++].active=!0},s.prototype.resetWater=function(){var t=this;this.unschedule(this.scheduleWater),this.waterParent.children.forEach(function(e){e.active=!1,t._water_pool.push(e)})},a([r(cc.Camera)],s.prototype,"waterCamera",void 0),a([r(cc.Sprite)],s.prototype,"waterConnect",void 0),a([r(cc.Node)],s.prototype,"waterParent",void 0),a([t],s));function s(){var e=null!==i&&i.apply(this,arguments)||this;return e.waterCamera=null,e.waterConnect=null,e.waterParent=null,e.cup=null,e.prefab_water=null,e._water_pool=null,e._waterGenrateCount=0,e}n.default=t,cc._RF.pop()},{}],Rocker:[function(e,t,n){"use strict";cc._RF.push(t,"8d9fdeeLCdEi5Zh0PNydB+G","Rocker");var o,c=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var c,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;0<=r;r--)(c=e[r])&&(i=(a<3?c(i):3<a?c(t,n,i):c(t,n))||i);return 3<a&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i,r=cc._decorator,t=r.ccclass,r=r.property,t=(i=cc.Component,c(s,i),s.prototype.start=function(){this.stick.x=0,this.stick.y=0,this.dir=cc.v2(0,0)},a([r(cc.Node)],s.prototype,"stick",void 0),a([t],s));function s(){var e=null!==i&&i.apply(this,arguments)||this;return e.stick=null,e.dir=null,e}n.default=t,cc._RF.pop()},{}],RotateAround:[function(e,t,n){"use strict";cc._RF.push(t,"d0683O41+dL0LiH0SbEMp2i","RotateAround");var o,c,a=this&&this.__extends||(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var c,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;0<=r;r--)(c=e[r])&&(i=(a<3?c(i):3<a?c(t,n,i):c(t,n))||i);return 3<a&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0}),(s=o=n.Axis||(n.Axis={}))[s.PositiveX=0]="PositiveX",s[s.PositiveY=1]="PositiveY",s[s.NegativeX=2]="NegativeX",s[s.NegativeY=3]="NegativeY";var r,t=cc._decorator,s=t.ccclass,t=t.property,s=(r=cc.Component,a(l,r),l.prototype.start=function(){this.autoStart&&this.run()},l.prototype.update=function(e){if(this.isRotating&&this.targetPos){var t=Math.PI/180*this.angle;if(this.node.x=this.targetPos.x+this.radius*Math.cos(t),this.node.y=this.targetPos.y+this.radius*Math.sin(t),this.faceToTarget)switch(this.faceAxis){case o.PositiveX:this.node.angle=this.angle+180;break;case o.PositiveY:this.node.angle=this.angle+90;break;case o.NegativeX:this.node.angle=this.angle;break;case o.NegativeY:this.node.angle=this.angle-90}e=e*(360/this.timePerRound);this.clockwise?this.angle-=e:this.angle+=e,360<=this.angle?this.angle%=360:this.angle<=-360&&(this.angle%=-360)}},l.prototype.run=function(e,t,n,o,c){if(e&&(this.targetPos=e),t&&(this.clockwise=t),n&&(this.timePerRound=n),o&&(this.faceToTarget=o),c&&(this.faceAxis=c),!this.targetPos)return cc.log("No target!");this.ischangeFunc?0<this.node.y?this.angle=this.getAngle(this.targetPos,this.node.getPosition())+90:this.angle=this.getAngle(this.targetPos,this.node.getPosition())-90:this.angle=this.getAngle(this.targetPos,this.node.getPosition()),this.radius=this.getDistance(this.targetPos,this.node.getPosition());c=Math.PI/180*this.angle;this.node.x=this.targetPos.x+this.radius*Math.cos(c),this.node.y=this.targetPos.y+this.radius*Math.sin(c),this.isRotating=!0},l.prototype.stop=function(){this.isRotating=!1},l.prototype.getAngle=function(e,t){return Math.atan2(e.y-t.y,t.x-e.x)},l.prototype.getDistance=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},i([t(cc.Vec2)],l.prototype,"targetPos",void 0),i([t({tooltip:!1})],l.prototype,"clockwise",void 0),i([t({tooltip:!1})],l.prototype,"timePerRound",void 0),i([t({tooltip:!1})],l.prototype,"faceToTarget",void 0),i([t({type:cc.Enum(o),tooltip:!1,visible:function(){return this.faceToTarget}})],l.prototype,"faceAxis",void 0),i([t({tooltip:"自动开始旋转"})],l.prototype,"autoStart",void 0),i([s],l));function l(){var e=null!==r&&r.apply(this,arguments)||this;return e.targetPos=null,e.clockwise=!0,e.timePerRound=5,e.faceToTarget=!1,e.faceAxis=o.NegativeY,e.autoStart=!1,e.angle=0,e.radius=0,e.isRotating=!1,e.ischangeFunc=!1,e}n.default=s,cc._RF.pop()},{}],Shake:[function(e,t,n){"use strict";cc._RF.push(t,"ae84f5GUmxA6pQM/u/0FkbQ","Shake");var o=cc.ActionInterval.extend({targetNode:cc.Node,nodeInitialPos:null,nodeShakeStrengthX:0,nodeShakeStrengthY:0,xOffset:0,yOffset:0,duration:0,getRandomStrength:function(e,t){return Math.random()*(t-e+1)+e},update:function(e){var t=this.getRandomStrength(-this.nodeShakeStrengthX,this.nodeShakeStrengthX)*cc.director.getDeltaTime(),n=this.getRandomStrength(-this.nodeShakeStrengthY,this.nodeShakeStrengthY)*cc.director.getDeltaTime();this.xOffset+=t,this.yOffset+=n,this.target.setPosition(this.target.position.add(cc.v2(t,n)))},initWithDuration:function(e,t,n){return!!cc.ActionInterval.prototype.initWithDuration.call(this,e)&&(this.nodeShakeStrengthX=t,this.nodeShakeStrengthY="undefined"==n?t:n,!0)},startWithTarget:function(e){cc.ActionInterval.prototype.startWithTarget.call(this,e),this.nodeInitialPos=e.getPosition(),this.target=e,this.xOffset=0,this.yOffset=0},stop:function(){this.target.setPosition(this.target.position.add(cc.v2(-this.xOffset,-this.yOffset)))}});cc.shake=function(e,t,n){return new o(e,t,n)},cc._RF.pop()},{}],SpriteManager:[function(e,t,n){"use strict";cc._RF.push(t,"4aec9V8qWdDa5TaF3chhmaO","SpriteManager");var o,c=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var c,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;0<=r;r--)(c=e[r])&&(i=(a<3?c(i):3<a?c(t,n,i):c(t,n))||i);return 3<a&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i,r,s=cc._decorator,t=s.ccclass,s=s.property,t=(i=cc.Component,c(l,i),(r=l).prototype.onLoad=function(){null!=r.Instance&&r.Instance.destroy(),(r.Instance=this).atlasMap=new Map;for(var e=0;e<this.atlas.length;e++){var t=this.atlas[e].name.split(".",1);this.atlasMap.set(t[0],this.atlas[e])}for(this.spriteFrameMap=new Map,e=0;e<this.allSpriteFrame.length;e++){var n=this.allSpriteFrame[e].name.split(".",1);this.spriteFrameMap.set(n[0],this.allSpriteFrame[e])}},l.prototype.GetSpriteFrame=function(e){return this.spriteFrameMap.has(e)?this.spriteFrameMap.get(e):null},l.Instance=null,a([s(cc.SpriteAtlas)],l.prototype,"atlas",void 0),a([s(cc.SpriteFrame)],l.prototype,"allSpriteFrame",void 0),r=a([t],l));function l(){var e=null!==i&&i.apply(this,arguments)||this;return e.atlas=[],e.allSpriteFrame=[],e.atlasMap=null,e.spriteFrameMap=null,e}n.default=t,cc._RF.pop()},{}],Stack:[function(e,t,n){"use strict";cc._RF.push(t,"17b226CrNJGGYSBKYckUg+j","Stack"),Object.defineProperty(n,"__esModule",{value:!0});o.prototype.push=function(e){var t=this.elements.length;this._size>=t&&(t=new Array(t),this.elements=this.elements.concat(t)),this.elements[this._size++]=e},o.prototype.pop=function(){return this.elements[--this._size]},o.prototype.peek=function(){return this.elements[this._size-1]},o.prototype.size=function(){return this._size},o.prototype.empty=function(){return 0===this._size},o.prototype.clear=function(e){void 0===e&&(e=10),delete this.elements,this.elements=new Array(e),this._size=0},t=o;function o(e){void 0===e&&(e=10),this.elements=new Array(e),this._size=0}n.Stack=t,cc._RF.pop()},{}],Toast:[function(e,t,n){"use strict";cc._RF.push(t,"4f5a7oIt7pFWaaZNA1+j7MV","Toast"),Object.defineProperty(n,"__esModule",{value:!0});Object.defineProperty(o,"instance",{get:function(){return null==this._instance&&(this._instance=new o),this._instance},enumerable:!0,configurable:!0}),o.prototype.showText=function(e,t){var n=this;void 0===t&&(t=.5),e.length*this.textLabel.fontSize>.8*this.canvas.node.width&&(this.textLabel.overflow=cc.Label.Overflow.RESIZE_HEIGHT,this.textLabel.node.width=.8*this.canvas.node.width),this.textLabel.string=e,this.toastNode.active=!0,this.toastNode.opacity=200,this.toastNode.runAction(cc.sequence(cc.delayTime(t),cc.fadeOut(.2),cc.callFunc(function(){n.toastNode.active=!1},this)))},o._instance=null,t=o;function o(){this.toastNode=null,this.bgSprite=null,this.spriteFrame=null,this.textNode=null,this.textLabel=null,this.canvas=null,this.toastNode=new cc.Node,this.toastNode.active=!1,this.toastNode.zIndex=1e4,this.canvas=cc.director.getScene().getComponentInChildren(cc.Canvas),this.canvas.node.addChild(this.toastNode),this.bgSprite=this.toastNode.addComponent(cc.Sprite),this.bgSprite.trim=!0,this.bgSprite.type=cc.Sprite.Type.SLICED;var n=this;cc.loader.loadRes("default_btn_pressed",function(e,t){e?cc.error(e):(n.spriteFrame=new cc.SpriteFrame(t),n.bgSprite.spriteFrame=n.spriteFrame)});var e=this.toastNode.addComponent(cc.Widget);e.isAlignBottom=!0,e.isAbsoluteBottom=!1,e.bottom=.8,e.isAlignHorizontalCenter=!0,e.horizontalCenter=0,e.alignMode=cc.Widget.AlignMode.ONCE;e=this.toastNode.addComponent(cc.Layout);e.resizeMode=cc.Layout.ResizeMode.CONTAINER,e.padding=5,this.textNode=new cc.Node,this.toastNode.addChild(this.textNode),this.textNode.position=cc.Vec2.ZERO,this.textLabel=this.textNode.addComponent(cc.Label),this.textLabel.fontSize=50,this.textLabel.lineHeight=50}n.Toast=t,cc._RF.pop()},{}],ToolsJs:[function(e,t,n){"use strict";cc._RF.push(t,"ff72eImHHBFF7om5YuFkgbF","ToolsJs");var o={SpriteFrameJs:null,AudioArrJs:null,setStorage:function(e,t,n){CC_WECHATGAME?wx.setStorage({key:e,data:t}):(n&&(t=JSON.stringify(t)),cc.sys.localStorage.setItem(e,t))},getStorage:function(e,t){if(CC_WECHATGAME)return wx.getStorageSync(e);e=cc.sys.localStorage.getItem(e);return isNaN(e)||(e=parseInt(e)),"NaN"==e.toString()&&(e=null),t&&null!=e&&(e=JSON.parse(e)),e},logJsonObject:function(e){console.log(JSON.stringify(e))},loadJson:function(e,t){},writeJson:function(e,t){var n;cc.sys.isBrowser&&(console.log("浏览器"),n=new Blob([e],{type:"application/json"}),(e=document.createElement("a")).download=t,e.innerHTML="Download File",null!=window.webkitURL?e.href=window.webkitURL.createObjectURL(n):(e.href=window.URL.createObjectURL(n),e.onclick=destroyClickedElement,e.style.display="none",document.body.appendChild(e)),e.click())},addNoArr:function(e,t){return e.indexOf(t)<0&&(e.push(t),!0)},newSprite:function(e){if(null==this.SpriteFrameJs.getSpriteFrame(e))return null;var t=new cc.Node;return t.addComponent(cc.Sprite).spriteFrame=this.SpriteFrameJs.getSpriteFrame(e),t},setTexture:function(e,t){e.getComponent(cc.Sprite).spriteFrame=this.SpriteFrameJs.getSpriteFrame(t)},clonePrefabs:function(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,c=this.PrefabArrJs.getPrefabs(e);if(null==c)return console.log("克隆预制体失败:"+e),null;c=cc.instantiate(c);return null!=t&&t.addChild(c,o),null!=n&&(c.position=n),c},newLabel:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:20,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:.5,c=4<arguments.length&&void 0!==arguments[4]?arguments[4]:.5,a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,i=new cc.Node;i.anchorX=o,i.anchorY=c;c=i.addComponent(cc.Label);return c.string=e,c.fontSize=n,t.addChild(i,a),i},playAudio:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.5,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return null!=this.AudioArrJs?this.AudioArrJs.playAudio(e,t,n):cc.audioEngine.play(cc.url.raw("resources/music/"+e+".mp3"),n,t)},stopAudio:function(e){null!=e&&cc.audioEngine.stop(e)},newAduioSource:function(e){var t=void 0;if(null!=this.AudioArrJs)t=this.AudioArrJs.getAudioClip(e);else{if(null==e)return console.log("clip不能为空！"),null;t=e}e=new cc.Node;return e.addComponent(cc.AudioSource).clip=t,e.getComponent(cc.AudioSource)},delayTimeCall:function(e,t,n,o){e.runAction(cc.sequence(cc.delayTime(n),cc.callFunc(t,o)))},getDistance:function(e,t){return e.sub(t).mag()},getToNodePos:function(e,t){e=e.parent.convertToWorldSpaceAR(e.position);return t.convertToNodeSpaceAR(e)},getToWorldPosAR:function(e){return e.parent.convertToWorldSpaceAR(e.position)},getToWorldPos:function(e){return e.parent.convertToWorldSpace(e.position)},isBoxContainPos:function(e,t){return e.getBoundingBox().contains(t)},isBoxContainWorldPos:function(e,t){return e.getBoundingBoxToWorld().contains(t)},isRectInterRect:function(e,t){return e.getBoundingBoxToWorld().intersects(t.getBoundingBoxToWorld())},returnRandom:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},returnCurrentLanType:function(){var e=1;switch(cc.sys.language){case cc.sys.LANGUAGE_CHINESE:e="zh-TW"==window.navigator.language||"zh-tw"==window.navigator.language||"zh-HK"==window.navigator.language||"zh-hk"==window.navigator.language?(cc.log("繁体"),2):(cc.log("简体"),1);break;case cc.sys.LANGUAGE_KOREAN:e=4;break;default:e=3}return e}};t.exports=o,cc._RF.pop()},{}],Utils:[function(e,t,n){"use strict";cc._RF.push(t,"f3369tYECpPVJGWDo7sIHaO","Utils"),Object.defineProperty(n,"__esModule",{value:!0});u.getBezierPos=function(e,t){var n=new Array,o=e.length;if(o<2)return cc.log("控制点数不能小于 2"),n;for(var c=this.getYangHuiTriangle(o),a=0;a<t;a++){for(var i=a/t,r=0,s=0,l=0;l<o;l++)r+=Math.pow(1-i,o-l-1)*e[l].x*Math.pow(i,l)*c[l],s+=Math.pow(1-i,o-l-1)*e[l].y*Math.pow(i,l)*c[l];n[a]=new cc.Vec2(r,s)}return n},u.getYangHuiTriangle=function(e){var t=new Array;if(1===e)t[0]=1;else{t[0]=t[1]=1;for(var n=3;n<=e;n++){for(var o=new Array,c=0;c<n-1;c++)o[c]=t[c];for(t[0]=t[n-1]=1,c=0;c<n-2;c++)t[c+1]=o[c]+o[c+1]}}return t},u.ConvertPosition=function(e,t){if(e.parent==t.parent)return e.position;e=e.convertToWorldSpaceAR(cc.v2(0,0));return t.convertToNodeSpaceAR(e)},u.ConvertAngle=function(e,t){for(var n=e.parent,o=e.angle;null!=n;)o+=n.angle,n=n.parent;for(var c=t.parent,a=t.angle;null!=c;)a+=c.angle,c=c.parent;return o-a},u.ConvertAngleValue=function(e,t,n){for(var o=e,c=t;null!=o;)c+=o.angle,o=o.parent;for(var a=n.parent,i=n.angle;null!=a;)i+=a.angle,a=a.parent;return c-i},u.ConvertScale=function(e,t){for(var n=e.parent,o=e.scaleX,c=e.scaleY;null!=n;)o*=n.scaleX,c*=n.scaleY,n=n.parent;for(var a=t.parent,i=t.scaleX,r=t.scaleY;null!=a;)i*=a.scaleX,r*=a.scaleY,a=a.parent;e=o;0!=i&&(e/=i);t=c;return 0!=r&&(t/=r),cc.v2(e,t)},u.Random=function(e,t){return Math.random()*(t-e)+e},u.RandomInteger=function(e,t){return Math.floor(Math.random()*(t-e)+e)},u.AngleToRadian=function(e){return e*Math.PI/180},u.CenteredUi=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var o=(t.length-1)*e,c=0;c<t.length;c++)t[c].getComponent(cc.Label),o+=t[c].width;for(var a=.5*-o,c=0;c<t.length;c++)0!=c&&(a+=e),t[c].x=a+.5*t[c].width,a+=t[c].width},u.CheckPolygonNodeCollision=function(e,t){var n=e.getComponent(cc.PolygonCollider),o=t.getComponent(cc.PolygonCollider);if(null==n||null==o)return!1;for(var c=new Array,a=0;a<n.points.length;a++){var i=cc.v2(n.points[a].x,n.points[a].y);c.push(i)}for(var r=new Array,a=0;a<o.points.length;a++)i=cc.v2(o.points[a].x,o.points[a].y),r.push(i);var s=e.convertToWorldSpaceAR(cc.v2(0,0)),s=cc.find("Canvas").convertToNodeSpaceAR(s);for(s=e.position,a=0;a<c.length;a++)c[a].rotateSelf(u.AngleToRadian(e.angle)),c[a]=s.add(c[a]);var l=t.convertToWorldSpaceAR(cc.v2(0,0)),l=cc.find("Canvas").convertToNodeSpaceAR(l);for(l=t.position,a=0;a<r.length;a++)r[a].rotateSelf(u.AngleToRadian(t.angle)),r[a]=l.add(r[a]);return cc.Intersection.polygonPolygon(c,r)},u.getRandomNum=function(e,t,n){return void 0===n&&(n=!1),n?Math.floor(Math.random()*(t-e+1)+e):Math.random()*(t-e)+e},u.RandomIndexFromArr=function(e){for(var t=new Array,n=new Array,o=0,c=0;c<e.length;c++)0<e[c]&&(t.push(e[c]),n.push(c),o+=e[c]);for(var a=100/o,c=0;c<t.length;c++)t[c]*=a,t[c]=Math.round(t[c]);var i=Math.floor(100*Math.random()),r=-1;for(c=0;c<t.length;c++){for(var s=0,l=c;0<=l;l--)s+=t[l];i>=s-t[c]&&i<s&&(r=c)}return-1==r&&(r=0),n[r]},u.ArrayHaveElement=function(e,t){if(null==e||null==t)return!1;for(var n=!1,o=0;o<e.length;o++)if(e[o]==t){n=!0;break}return n},u.DisruptionArray=function(e){for(var t=0;t<e.length;t++){var n=u.RandomInteger(0,e.length),o=e[n];e[n]=e[t],e[t]=o}return e},u.localConvertWorldPointAR=function(e){return e?e.convertToWorldSpaceAR(cc.v2(0,0)):null},u.worldConvertLocalPointAR=function(e,t){return e?e.convertToNodeSpaceAR(t):null},u.convetOtherNodeSpaceAR=function(e,t){if(!e||!t)return null;e=this.localConvertWorldPointAR(e);return this.worldConvertLocalPointAR(t,e)},u.returnCurrentLanType=function(){var e=1;switch(cc.sys.language){case cc.sys.LANGUAGE_CHINESE:e="zh-TW"==window.navigator.language||"zh-tw"==window.navigator.language||"zh-HK"==window.navigator.language||"zh-hk"==window.navigator.language?(cc.log("繁体"),2):(cc.log("简体"),1);break;case cc.sys.LANGUAGE_KOREAN:e=4;break;default:e=3}return e},u.cbPosToWorldPos=function(e,t,n,o,c,a){c=n+(e.x-t.x/2+.5)*c,a=o+(e.y+.5)*a;return cc.v2(c,a)},u.worldPosToCbPos=function(e,t,n,o,c,a){t=(e.x-n)/c-.5+t/2,a=(e.y-o)/a-.5;return t%1==0&&a%1==0||(t=Math.round(t),a=Math.round(a)),cc.v2(t,a)},u.judgeInArr=function(e,t){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1},u.getAngle=function(e,t){var n=t.x-e.x,e=t.y-e.y;return 360*Math.atan(e/n)/(2*Math.PI)},u.judgeIntersect=function(e,t,n,o,c,a,i,r){return Math.min(e,n)<=Math.max(c,i)&&Math.min(a,r)<=Math.max(t,o)&&Math.min(c,i)<=Math.max(e,n)&&Math.min(t,o)<=Math.max(a,r)&&((c-e)*(o-t)-(n-e)*(a-t))*((i-e)*(o-t)-(n-e)*(r-t))<=1e-8&&((e-c)*(r-a)-(i-c)*(t-a))*((n-c)*(r-a)-(i-c)*(o-a))<=1e-8},u.getNormalizeVector=function(e,t){return t.sub(e).normalize()},u.judgeItemOverlapping=function(e,t,n,o,c,a,i,r){return!(e+n<c||c+i<e||t+o<a||a+r<t)},u.getCircumferencePos=function(e,t,n){var o=cc.v2(0,0);return o.x=e.x+Math.sin(2*Math.PI/360*n)*t,o.y=e.y+Math.cos(2*Math.PI/360*n)*t,o},u.upsetArr=function(e){return e.sort(function(e,t){return.5<Math.random()?-1:1})},u.getAudio=function(e,t){return cc.sys.os===cc.sys.OS_IOS?e:t},u.setLocalData=function(e,t){cc.sys.localStorage.setItem(e,t)},u.getLocalData=function(e){return cc.sys.localStorage.getItem(e)},u.getNodePos=function(e,t,n){return n?e.convertToNodeSpaceAR(t.convertToWorldSpaceAR(n)):e.convertToNodeSpaceAR(t.convertToWorldSpaceAR())},u.findAllItemIndex=function(e,t){for(var n=[],o=0;o<t.length;o++)t[o]==e&&n.push(o);return n},u.judgeArrSame=function(e,t){for(var n=0;n<e.length;n++)for(var o=0;o<t.length;o++)if(e[n]!==t[o])return!1;return!0},u.count=function(e,n){return e.reduce(function(e,t){return t===n?e+1:e},0)},u.pDistance=function(e,t){return e.sub(t).mag()},u.getAngleByVector=function(e){return e.y<0?360-cc.v2(1,0).angle(e)/Math.PI*180:cc.v2(1,0).angle(e)/Math.PI*180},u.getBoundingBoxToNode=function(e,t){t=t.convertToNodeSpaceAR(e.convertToWorldSpaceAR(cc.v2(-e.anchorX*e.width*(e.scaleX/Math.abs(e.scaleX)),-e.anchorY*e.height*(e.scaleY/Math.abs(e.scaleY)))));return cc.rect(t.x,t.y,e.width*Math.abs(e.scaleX),e.height*Math.abs(e.scaleY))},u.degreesToVectors=function(e){e=cc.misc.degreesToRadians(e);return cc.v2(0,1).rotate(-e)},u.VectorsdegreesToVectors=function(e,t){t=cc.misc.degreesToRadians(t);return e.rotate(-t)},u.vectorsToDegress=function(e){if(Math.abs(e.x)+Math.abs(e.y)===0)return 0;var t=cc.v2(0,1),t=cc.v2(e).signAngle(t);return cc.misc.radiansToDegrees(t)},u.judgeArrExist=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1},u.deleteArrItem=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return void e.splice(n,1)},u.UpsetArr=function(e){for(var t=e.length;t;){var n=Math.floor(Math.random()*t--),o=[e[t],e[n]];e[n]=o[0],e[t]=o[1]}return e},u.sortArr=function(e,t){for(var n,o=0;o<e.length-1;o++)for(var c=0;c<e.length-1;c++){switch(t){case 0:var a=e[c]>e[c+1];break;case 1:a=e[c].x>e[c+1].x;break;case 2:a=e[c].y>e[c+1].y}a&&(n=e[c],e[c]=e[c+1],e[c+1]=n)}},u.getPointByCPAndAngleAndLen=function(e,t,n){var o=t*Math.PI/180,t=n*Math.cos(o),o=n*Math.sin(o);return cc.p(e.x+o,e.y+t)},u.setSprite=function(e,t,n){n=e.getSpriteFrame(n);t.getComponent(cc.Sprite).spriteFrame=n},u.logArr=function(e){for(var t="",n=0;n<e.length;n++)t+=e[n].x+",",t+=e[n].y+",";cc.log(t)},u.analysisArr=function(e){for(var t,n=[],o=0;o<e.length;o++)o%2==0&&(t=cc.v2(e[o],e[o+1]),n.push(t));return n},u.DetermineTheAngle=function(e,t){var n=e.x-t.x,t=e.y-t.y,t=cc.v2(n,t);return Math.atan2(t.x,t.y)*(180/Math.PI)},t=u;function u(){}n.default=t,cc._RF.pop()},{}],WallUpdate:[function(e,t,n){"use strict";cc._RF.push(t,"9f05e4uSUJBf7dp3DMjGgbj","WallUpdate");var o,c=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var c,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;0<=r;r--)(c=e[r])&&(i=(a<3?c(i):3<a?c(t,n,i):c(t,n))||i);return 3<a&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i,r=cc._decorator,t=r.ccclass,r=r.property,t=(i=cc.Component,c(s,i),s.prototype.update=function(e){var t;this.leftUpWall.y-this.mainCamera.y>this.leftUpWall.height&&(this.leftUpWall.y=this.leftDownWall.y-this.leftDownWall.height,t=this.leftUpWall,this.leftUpWall=this.leftDownWall,this.leftDownWall=t),this.rightUpWall.y-this.mainCamera.y>this.rightUpWall.height&&(this.rightUpWall.y=this.rightDownWall.y-this.rightDownWall.height,t=this.rightUpWall,this.rightUpWall=this.rightDownWall,this.rightDownWall=t)},a([r(cc.Node)],s.prototype,"mainCamera",void 0),a([r(cc.Node)],s.prototype,"leftUpWall",void 0),a([r(cc.Node)],s.prototype,"leftDownWall",void 0),a([r(cc.Node)],s.prototype,"rightUpWall",void 0),a([r(cc.Node)],s.prototype,"rightDownWall",void 0),a([t],s));function s(){var e=null!==i&&i.apply(this,arguments)||this;return e.mainCamera=null,e.leftUpWall=null,e.leftDownWall=null,e.rightUpWall=null,e.rightDownWall=null,e}n.default=t,cc._RF.pop()},{}],bfPrefabJs:[function(e,t,n){"use strict";cc._RF.push(t,"813eeXgvcJG96hqXhg+nvJ0","bfPrefabJs"),cc.Class({extends:cc.Component,properties:{wing_r:cc.Node,wing_l:cc.Node},onLoad:function(){this.wing_r=new cc.Node,this.wing_l=new cc.Node,this.startFun()},startFun:function(){this.wing_r.stopAllActions(),this.wing_l.stopAllActions(),this.wingAction(),this.isUser=!0,this.isUpdate=!0,this.turnNum=other.randomInt(10,20),this.mosquitoSpeedLen=2,this.mosquitoSpeedMaxR=4,this.mosquitoSpeedR=0,this.mosquitoTargetR=0,this.mosquitoTargetMaxR=359,this.mosquitoAddR=!0,this.mapScale=1,this.onEdgeFlag=!0,this.isTurn=!1,this.scheduleOnce(function(){this.isTurn=!0,this.setMosquitoSpeed()},2)},wingAction:function(){this.wing_r.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.2,1).easing(cc.easeSineInOut()),cc.scaleTo(.2,.4,1).easing(cc.easeSineInOut())))),this.wing_l.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.2,-1,1).easing(cc.easeSineInOut()),cc.scaleTo(.2,-.4,1).easing(cc.easeSineInOut()))))},start:function(){},setMosquitoSpeed:function(){360<=this.node.angle?this.node.angle-=360:this.node.angle<0&&(this.node.angle+=360),this.mosquitoSpeedR=Math.random()*this.mosquitoSpeedMaxR*2-this.mosquitoSpeedMaxR;var e=Math.random()*this.mosquitoTargetMaxR*(Math.abs(this.mosquitoSpeedR)/(this.mosquitoSpeedMaxR+.4*this.mapScale));0<this.mosquitoSpeedR?(this.mosquitoTargetR=this.node.angle+e,this.mosquitoAddR=!0):(this.mosquitoTargetR=this.node.angle-e,this.mosquitoAddR=!1),this.checkEdgeDelayCount=0,this.onEdgeFlag&&2<Math.abs(this.mosquitoSpeedR)&&(this.mosquitoSpeedR=this.mosquitoSpeedR/3*2,this.mosquitoTargetR=this.mosquitoTargetR/3*2),this.onEdgeFlag=!1,this.turnNum--,this.turnNum<=0&&(this.isTurn=!1)},updateMosquito:function(){var e=this.mosquitoSpeedLen,t=this.mosquitoSpeedR,n=this.mosquitoTargetR,o=this.node,e=c.getPointByCPAndAngleAndLen(o.getPosition(),o.angle+t,e);o.setPosition(e),o.angle+=t,this.mosquitoAddR?o.angle>=n&&this.setMosquitoSpeed():o.angle<=n&&this.setMosquitoSpeed()},setPos:function(){this.node.position.x<0?this.newPos=cc.v2(-GameData.gameWidth/2-100,this.node.position.y):this.newPos=cc.v2(GameData.gameWidth/2+100,this.node.position.y),this.isUser=!1},setPos_1:function(){this.isUpdate=!1,this.scheduleOnce(function(){this.isUpdate=!0,this.setPos()},.5)},update:function(e){this.isUpdate&&(this.isUser?this.isTurn?(this.updateMosquito(),this.checkOnEdge(!0)):this.updateMove(e):(this.updateMove_1(e),this.checkOnEdge(!1)))},updateMove_1:function(e){this.dir=other.getNormalizeVector(this.node.getPosition(),this.newPos);var t=this.dir.x*this.mosquitoSpeedLen*3*1,n=this.dir.y*this.mosquitoSpeedLen*3*1,t=this.node.x+t,n=this.node.y+n;this.node.x=t,this.node.y=n;n=360-(n=180*Math.atan2(this.dir.y,this.dir.x)/Math.PI)+90;this.node.angle=n},updateMove:function(e){this.dir=other.getNormalizeVector(this.node.getPosition(),cc.v2(0,100));var t=this.dir.x*this.mosquitoSpeedLen*1,n=this.dir.y*this.mosquitoSpeedLen*1,t=this.node.x+t,n=this.node.y+n;this.node.x=t,this.node.y=n;n=360-(n=180*Math.atan2(this.dir.y,this.dir.x)/Math.PI)+90;this.node.angle=n},setMosquitoBackSpeed:function(){this.isTurn=!1,this.scheduleOnce(function(){this.isTurn=!0,this.setMosquitoSpeed()},2)},checkOnEdge:function(e){(this.node.x>GameData.gameWidth/2+100||this.node.x<-GameData.gameWidth/2-100||this.node.y>GameData.gameHeight/2+100||this.node.y<-GameData.gameHeight/2-100)&&(e?this.setMosquitoBackSpeed():this.node.active=!1)}});var c={getAngle:function(e,t,n,o){var c=Math.abs(e-n),a=Math.abs(t-o),a=a/Math.sqrt(Math.pow(c,2)+Math.pow(a,2)),a=Math.acos(a),a=180/(Math.PI/a);return o<t&&(a=180-a),n<e&&(a*=-1),a},getPointByCPAndAngleAndLen:function(e,t,n){var o=t*Math.PI/180,t=n*Math.cos(o),o=n*Math.sin(o);return cc.v2(e.x+o,e.y+t)}};cc._RF.pop()},{}],fruitData:[function(e,t,n){"use strict";cc._RF.push(t,"55375yB7OxHJ6SSoJ5ShoDj","fruitData");var o,c=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var c,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;0<=r;r--)(c=e[r])&&(i=(a<3?c(i):3<a?c(t,n,i):c(t,n))||i);return 3<a&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i,s=e("../common/PlayerInfo"),l=e("./GameFunction"),r=e("../Common/PoolManager"),u=e("../Common/Utils"),d=e("../common/DynamicLoad"),p=e("./MainGameUi"),f=e("./AudioManager"),t=cc._decorator,e=t.ccclass,t=t.property,e=(i=cc.Component,c(h,i),h.prototype.onLoad=function(){},h.prototype.start=function(){this.bianjieX=360-this.node.width/2},h.prototype.update=function(e){var t=this;if(this.node.x<-this.bianjieX&&(this.node.x=-this.bianjieX),this.node.x>this.bianjieX&&(this.node.x=this.bianjieX),this.notTargetTime+=e,this.returnNumber&&(this.scheduleOnce(function(){t.getNumberTime=0},.25),this.returnNumber=!1),"fruitNode"==this.node.parent.name&&(this.testEndDJS+=e),this.node.y+this.node.width/2>cc.find("Canvas/lineNode").children[0].y&&0==this.pengzhuangCount&&this.endCtrl&&0==this.endOne&&3<this.testEndDJS&&wuDi){s.default.GameUpdateCtrl=!1,s.default.playerTouch=!1;for(var n=0;n<cc.find("Canvas/fruitNode").children.length;n++)cc.find("Canvas/fruitNode").children[n].removeComponent(cc.PhysicsCircleCollider),cc.find("Canvas/fruitNode").children[n].removeComponent(cc.RigidBody);this.node.color=cc.Color.RED,cc.tween(this.node).to(.3,{opacity:0}).to(.3,{opacity:255}).union().repeat(3).call(function(){l.default.Instance.end(),cc.find("Canvas/lineNode").children[0].active=!1}).start(),this.endOne++}},h.prototype.setGridInfo=function(){},h.prototype.getNumber=function(){var e=this.getNumberTime;return this.getNumberTime++,this.returnNumber=!0,e},h.prototype.onBeginContact=function(e,o,c){var t,n,a,i,r=this;"downwall"==c.node.group&&(o.node.parent=cc.find("Canvas/fruitNode"),0==this.wallColl&&(f.default.Instance.Play(5,!1,1),this.wallColl++)),"fruit"==c.node.group&&(this.endCtrl=!0,o.node.y<c.node.y||(o.node.parent=cc.find("Canvas/fruitNode"),l.default.Instance.fruitHeigth=l.default.Instance.findHighestFruit(),null!=o.node.getComponent(cc.RigidBody)&&(o.node.getComponent(cc.RigidBody).angularVelocity=0),t=this.fruitNumber,n=c.node.getComponent("fruitData").fruitNumber,a=reverseLevelUp?1:9,i=reverseLevelUp?-1:1,t==n&&(reverseLevelUp?a<t&&a<n:t<a&&n<a)?(this.pengzhuangCount+=1,0==o.node.getComponent("fruitData").getNumber()&&(s.default.score+=this.fruitNumber+(extraScore||1),p.default.Instance.SetScoreTween(s.default.score),c.node.getComponent(cc.PhysicsCircleCollider).radius=0,c.node.getComponent(cc.PhysicsCircleCollider).apply(),this.node.getComponent(cc.PhysicsCircleCollider).radius=0,this.node.getComponent(cc.PhysicsCircleCollider).apply(),cc.tween(o.node).to(.1,{position:c.node.position}).call(function(){l.default.Instance.createFruitSui(r.fruitNumber,c.node.position),l.default.Instance.createFruitL(r.fruitNumber,c.node.position,c.node.width),l.default.Instance.createLevelUpFruit(r.fruitNumber+i,c.node.position),c.node.active=!1,o.node.active=!1,c.node.destroy(),o.node.destroy()}).start())):t==n&&a==t&&a==n&&(this.pengzhuangCount+=1,0==o.node.getComponent("fruitData").getNumber()&&(s.default.score+=this.fruitNumber+(extraScore||1),p.default.Instance.SetScoreTween(s.default.score),c.node.getComponent(cc.PhysicsCircleCollider).radius=0,c.node.getComponent(cc.PhysicsCircleCollider).apply(),this.node.getComponent(cc.PhysicsCircleCollider).radius=0,this.node.getComponent(cc.PhysicsCircleCollider).apply(),s.default.playerTouch=!1,cc.tween(o.node).to(.1,{position:c.node.position}).call(function(){l.default.Instance.createFruitSui(r.fruitNumber,c.node.position),l.default.Instance.createFruitL(r.fruitNumber,c.node.position,c.node.width),l.default.Instance.createLevelUpFruit(r.fruitNumber+i,c.node.position);var e=cc.find("Canvas/upEffectParent").getChildByName("daxigua");e.active=!0,e.opacity=0,cc.tween(e).to(.5,{opacity:150}).start();var t=new cc.Node;t.addComponent(cc.Sprite).spriteFrame=d.default.Instance.fruit[reverseLevelUp?0:10],t.parent=cc.find("Canvas/upEffectParent"),t.position=cc.v2(0,-500),t.scale=0;var n=new cc.Node;n.addComponent(cc.Sprite).spriteFrame=d.default.Instance.caidia[6],n.scale=3,n.parent=t,n.position=cc.v2(0),cc.tween(n).by(5,{angle:360}).repeatForever().start();n=new cc.Node;n.addComponent(cc.Sprite).spriteFrame=d.default.Instance.fruit[reverseLevelUp?0:10],n.parent=t,n.position=cc.v2(0),f.default.Instance.Play(4,!1,1),l.default.Instance.ribbonEffect(cc.v2(0,0)),t.runAction(cc.sequence(cc.spawn(cc.jumpBy(1,0,0,300,1),cc.scaleTo(1,1)),cc.delayTime(1),cc.spawn(cc.moveTo(1,cc.v2(0,500)),cc.scaleTo(1,0)),cc.callFunc(function(){s.default.score+=100,p.default.Instance.SetScoreTween(s.default.score),e.active=!1,s.default.playerTouch=!0,t.destroy()}))),c.node.active=!1,o.node.active=!1,c.node.destroy(),o.node.destroy()}).start()))))},h.prototype.createBoom=function(){var e=r.default.Spawn("boom",cc.find("Canvas/upEffectParent"));e.position=this.node.position,e.runAction(cc.sequence(cc.delayTime(.5),cc.fadeOut(.5)))},h.prototype.createStar=function(){var e=r.default.Spawn("star",cc.find("Canvas/upEffectParent"));e.scale=u.default.Random(.1,1);var t=this.node.x+this.node.width/2,n=this.node.x-this.node.width/2,o=this.node.y;e.position=cc.v2(u.default.RandomInteger(n,t),o),e.runAction(cc.fadeOut(2))},h.prototype.planeBoomEffect=function(){r.default.Spawn("boom",cc.find("Canvas/upEffectParent")).position=u.default.convetOtherNodeSpaceAR(this.node,cc.find("Canvas/upEffectParent"))},h.prototype.clockEoilffect=function(t,e){for(var n=0;n<3;n++)setTimeout(function(){var e=r.default.Spawn("star",cc.find("Canvas/upEffectParent"));e.position=t.position,e.scale=.3,e.runAction(cc.sequence(cc.scaleTo(.5,1.1),cc.fadeOut(.5)))},300*n)},h.prototype.addScoreEffect=function(){var e=r.default.Spawn("add1",cc.find("Canvas/mainGameUi"));e.position=cc.find("Canvas/mainGameUi").children[0].position.add(cc.v2(0,50)),e.runAction(cc.spawn(cc.moveBy(.5,0,50),cc.fadeOut(.5)))},a([t()],h.prototype,"fruitNumber",void 0),a([e],h));function h(){var e=null!==i&&i.apply(this,arguments)||this;return e.levelNumber=0,e.fruitNumber=0,e.bianjieX=0,e.pengzhuangCount=0,e.notTargetTime=0,e.returnNumber=!1,e.getNumberTime=0,e.endCtrl=!1,e.endOne=0,e.wallColl=0,e.testEndDJS=0,e}n.default=e,cc._RF.pop()},{"../Common/PoolManager":"PoolManager","../Common/Utils":"Utils","../common/DynamicLoad":"DynamicLoad","../common/PlayerInfo":"PlayerInfo","./AudioManager":"AudioManager","./GameFunction":"GameFunction","./MainGameUi":"MainGameUi"}],gameOverJs:[function(e,t,n){"use strict";cc._RF.push(t,"3621brbM61BsYFG7fM/74TL","gameOverJs");var o=e("GameUiTools"),c=e("GameConfig"),a=e("MainManage");cc.Class({extends:cc.Component,properties:{bgLayer:cc.Node,scoreBg:cc.Node,overScoreT:cc.Label,overInfoT:cc.Label,moreBtn:cc.Button,leftBtn:cc.Button,rightBtn:cc.Button,midGameText:cc.Label,leftBtnText:cc.Label,rightBtnText:cc.Label,maxScoreText:cc.Label},onLoad:function(){this.bgLayer.color=cc.color("#68b951"),this.standardScore=c.standScore,this.game_max_score=200,this.rigthBtnGameName=null,this.rightBtnGameUrl=null,this.UIPosChange(),this.addClickBtns();var e=this.returnCurrentLanType(),t=1==e?"最高纪录:":2==e?"最高紀錄:":4==e?"최고 기록:":"Highest Record:",n=c.gameScore,e=this.getHighScore();e?e<c.gameScore&&(this.setHisSocre(c.gameScore),e=c.gameScore):(this.setHisSocre(c.gameScore),e=n),this.maxScoreText.string=t+e},returnCurrentLanType:function(){var e=1;switch(cc.sys.language){case cc.sys.LANGUAGE_CHINESE:e="zh-TW"==window.navigator.language||"zh-tw"==window.navigator.language||"zh-HK"==window.navigator.language||"zh-hk"==window.navigator.language?(cc.log("繁体"),2):(cc.log("简体"),1);break;case cc.sys.LANGUAGE_KOREAN:e=4;break;default:e=3}return e},setHisSocre:function(e){cc.sys.localStorage.setItem("HigScore_JiaoTong",e)},getHighScore:function(){return cc.sys.localStorage.getItem("HigScore_JiaoTong")},UIPosChange:function(){this.overScoreT.string=c.gameScore,console.log("lang",a.langugeType);var e=null,e=1==a.langugeType?this.getContentByScore(c.gameScore,a.gameNameText):this.getContentByScore2(c.gameScore,a.gameNameText);console.log("nihao",a.endHttpShowInfo),null!=a.endHttpShowInfo&&""!=a.endHttpShowInfo&&(cc.log("gototo"),e=a.endHttpShowInfo),this.overInfoT.string=e;var t=this.overInfoT.node.height;this.overInfoT.node.height=Math.ceil(e.length*this.overInfoT.fontSize/this.overInfoT.node.width)*t,document.title=e,console.log("gameOver txtMoreText",a.txtMoreText),this.midGameText.string=a.txtMoreText,this.leftBtnText.string=a.txtAgainText,this.tempArr=this.gameFocus(),null!=a.ranLinkUrl()&&(t=a.ranLinkUrl(),e=a.ranLinkData.gameList[t].gameName,this.rigthBtnGameName=e,this.rightBtnGameUrl=a.ranLinkData.gameList[t].gameUrl),null!=this.rigthBtnGameName&&""!=this.rigthBtnGameName?this.rightBtnText.string=this.rigthBtnGameName:this.rightBtnText.string=this.tempArr[0]},gameFocus:function(){var e=[],t=null,n=null,n=Math.random()<=.5?(t=a.gameEndName1,a.gameEndUrl1):(t=a.gameEndName2,a.gameEndUrl2);return e.push(t),e.push(n),e},addClickBtns:function(){var n=this;n.moreBtn.node.on(cc.Node.EventType.TOUCH_START,function(e){}),n.moreBtn.node.on(cc.Node.EventType.TOUCH_END,function(e){console.log("MoreGame"),window.location.href=a.moreGameUrl}),n.leftBtn.node.on(cc.Node.EventType.TOUCH_START,function(e){}),n.leftBtn.node.on(cc.Node.EventType.TOUCH_END,function(e){c.GAME_OVER_BOOL=!0,c.gameScore=0,o.loadingScene("MainGameScene")}),n.rightBtn.node.on(cc.Node.EventType.TOUCH_START,function(e){}),n.rightBtn.node.on(cc.Node.EventType.TOUCH_END,function(e){var t=null!=n.rightBtnGameUrl&&""!=n.rightBtnGameUrl?n.rightBtnGameUrl:n.tempArr[1];window.location.href=t})},getContentByScore:function(e,t){var n="我真是太厉害，在"+t+"中竟然得了1分，全球只有1个人得1分！",o=parseInt(.3*this.standardScore),c=parseInt(1.5*this.standardScore),a=parseInt(2.5*this.standardScore),i=parseInt(4*this.standardScore);return 0<e&&e<=o||o<e&&e<=this.standardScore?n="我在"+t+"中得了"+e+"分，真是太棒了，再练练就能达到游刃有余的境界！":e>this.standardScore&&e<=c?n="我在"+t+"中得了"+e+"分，击败了全球"+(Math.floor(12*(e-this.standardScore)/(c-this.standardScore))+80)+"%的玩家，进入了信手拈来的境界！":c<e&&e<=a?n="我在"+t+"中得了"+e+"分，击败了全球"+(Math.floor(7*(e-c)/(a-c))+92)+"%的玩家，进入了运用自如的境界！":a<e&&e<=i?n="我在"+t+"中得了"+e+"分，击败了全球99%的玩家，达到了行云流水的境界！":i<e&&e<this.game_max_score?n="我在"+t+"中得了"+e+"分，据说全球只有 "+(20-Math.ceil(17*(e-i)/(this.game_max_score-i)))+"个人达到这个水平，独孤求败！":e>=this.game_max_score&&(n="我在"+t+"中得了"+e+"分，超越了独孤求败，心有灵犀！"),n},strlen:function(e){for(var t=0,n=0;n<e.length;n++){var o=e.charCodeAt(n);1<=o&&o<=126||65376<=o&&o<=65439?t++:t+=2}return t},getContentByScore2:function(e,t){var n="I'm awesome，in"+t+"get 0 score，only one person in the world has a 0！",o=parseInt(.3*this.standardScore),c=parseInt(1.5*this.standardScore),a=parseInt(2.5*this.standardScore),t=parseInt(4*this.standardScore);return e>=this.game_max_score?n="I got "+e+" points in the game, defeating all players worldwide, waiting for you to fight!":0<e&&e<=o||o<e&&e<=this.standardScore?n="I got "+e+" points in the game, really great！":e>this.standardScore&&e<=c?n="I got in the game in "+e+" points, beating out "+(Math.floor(12*(e-this.standardScore)/(c-this.standardScore))+80)+"% of global players！":c<e&&e<=a?n="I got in the game in "+e+" points, beating out "+(Math.floor(7*(e-c)/(a-c))+92)+"% of global players！":a<e&&e<=t?n="I got in the game in "+e+" points, beating out 99% of global players！":t<e&&e<this.game_max_score&&(n="I got "+e+" points in the game, it said to be the world's only "+(20-Math.ceil(17*(e-t)/(this.game_max_score-t)))+" people to reach this level! Have you?"),n},start:function(){}}),cc._RF.pop()},{GameConfig:"GameConfig",GameUiTools:"GameUiTools",MainManage:"MainManage"}],linkHttpIconJs:[function(e,t,n){"use strict";cc._RF.push(t,"95474fr0oNDP7SAidILF03q","linkHttpIconJs");var r=e("MainManage"),c=e("GameConfig");cc.Class({extends:cc.Component,properties:{iconSpr:cc.Node,iconSpr1:cc.Node},onLoad:function(){var n,o,e,t,c,a,i;this._imageArr=[],this.stopUpdateBool=!0,this.gameWidth=cc.winSize.width,this.gameHeight=cc.winSize.height,null!=r.recGameData&&""!=r.recGameData&&null!=r.recGameimg1&&""!=r.recGameimg1&&(n=50-this.gameWidth/2,o=this.gameHeight-50-this.gameHeight/2,null!=r.recGamePos&&""!=r.recGamePos&&(1==r.recGamePos?(n=50-this.gameWidth/2,o=this.gameHeight-50-this.gameHeight/2):2==r.recGamePos?(n=this.gameWidth-50-this.gameWidth/2,o=this.gameHeight-50-this.gameHeight/2):3==r.recGamePos?(n=this.gameWidth-50-this.gameWidth/2,o=50-this.gameHeight/2):4==r.recGamePos&&(n=50-this.gameWidth/2,o=50-this.gameHeight/2)),e=r.recGameimg1,t=r.recGameimg2,c=this.iconSpr,a=this.iconSpr1,i=this,cc.loader.load(e,function(e,t){c.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t),i.iconSpr.opacity=0,i.iconSpr.x=n,i.iconSpr.y=o,i._imageArr.push(i.iconSpr)}),cc.loader.load(t,function(e,t){a.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t),i.iconSpr1.opacity=0,i.iconSpr1.x=n,i.iconSpr1.y=o,i._imageArr.push(i.iconSpr1)})),this.addTouchEvents()},showLinkPic:function(){var e,t=null!=r.recGameDelPau?r.recGameDelPau:6;cc.log("dMainManager.recGameDelPer",r.recGameDelPer),e=null!=r.recGameDelPer?r.recGameDelPer:.7,this._imageArr[0].opacity=255,this._imageArr[0].runAction(cc.repeatForever(cc.sequence(cc.delayTime(t),cc.rotateBy(e,0,180),cc.callFunc(function(){this._imageArr[0].setRotation(0),this._imageArr[0].opacity=0,this._imageArr[1].opacity=255},this),cc.delayTime(t),cc.callFunc(function(){this.flowerAction(this._imageArr[1],e)},this),cc.delayTime(e),cc.callFunc(function(){this._imageArr[1].opacity=0,this._imageArr[0].opacity=255},this))))},flowerAction:function(e,t){e.runAction(cc.sequence(cc.rotateBy(t,0,180),cc.callFunc(function(){e.setRotation(0)})))},start:function(){},addTouchEvents:function(){var o=this,e={event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function(e,t){var n=e.getLocation();return 2<=o._imageArr.length&&(e=Math.abs(n.x-o.gameWidth/2-o._imageArr[0].x),n=Math.abs(n.y-o.gameHeight/2-o._imageArr[0].y),e<=30&&n<=30&&(c.noTouchBool=!1,null!=r.recGameUrl&&""!=r.recGameUrl&&(o._imageArr[0].runAction(cc.sequence(cc.scaleTo(.1,.8),cc.scaleTo(.1,1),cc.callFunc(function(){window.location.href=r.recGameUrl}))),o._imageArr[1].runAction(cc.sequence(cc.scaleTo(.1,.8),cc.scaleTo(.1,1)))),console.log("touchLinkHttp"))),!0},onTouchMoved:function(e,t){},onTouchEnded:function(e,t){}};cc.EventTarget.call(e,o.node)},update:function(e){this.stopUpdateBool&&2<=this._imageArr.length&&(this.stopUpdateBool=!1,this.showLinkPic())}}),cc._RF.pop()},{GameConfig:"GameConfig",MainManage:"MainManage"}],peaCannonAI:[function(e,t,n){"use strict";cc._RF.push(t,"f8545atw1JIMK0v/hcNWns0","peaCannonAI");var o,c=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var c,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;0<=r;r--)(c=e[r])&&(i=(a<3?c(i):3<a?c(t,n,i):c(t,n))||i);return 3<a&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("../Common/Utils"),s=e("../common/PlayerInfo"),l=e("../Common/PoolManager"),u=e("./GameFunction"),d=e("./MainGameUi"),p=e("./AudioManager"),t=cc._decorator,e=t.ccclass,t=t.property,e=(i=cc.Component,c(f,i),f.prototype.start=function(){this.shellNode=cc.find("Canvas/shellNode"),this.player=cc.find("Canvas/playerNode/player"),this.node.scale=.7},f.prototype.update=function(e){var t;s.default.GameUpdateCtrl&&(t=this.player.position.sub(this.node.position).normalize(),t=r.default.vectorsToDegress(t),this.node.angle=-t,this.shootTime+=e,this.shootTime>=this.shootInter&&(this.shootShell(),this.shootTime=0))},f.prototype.shootShell=function(){this.node.runAction(cc.sequence(cc.scaleTo(.1,.7,.5),cc.scaleTo(.1,.7,.7)));var e=l.default.Spawn("shell",this.shellNode);e.getComponent("shellData").shellLife=2,e.position=this.node.position,e.opacity=255,e.scale=.1,e.active=!0,p.default.Instance.Play(0,!1,1);var t=this.player.position.sub(e.position).normalize();e.runAction(cc.scaleTo(.2,.5)),e.runAction(cc.sequence(cc.moveBy(10,2e3*t.x,2e3*t.y),cc.callFunc(function(){l.default.Despawn("shell",e)}))),e.runAction(cc.repeatForever(cc.rotateBy(3,1080)))},f.prototype.onCollisionEnter=function(e,t){"shell"==e.node.group&&2==e.node.getComponent("shellData").shellLife?--e.node.getComponent("shellData").shellLife:"shell"==e.node.group&&1==e.node.getComponent("shellData").shellLife&&(p.default.Instance.Play(2,!1,1),t.node.active=!1,u.default.Instance.cannonNodeArr[this.cannonNumber]=0,this.createCannonSui(t.node),e.node.stopAllActions(),s.default.score+=10,d.default.Instance.SetScoreTween(s.default.score),l.default.Despawn("shell",e.node),l.default.Despawn("peaCannon",t.node))},f.prototype.onCollisionStay=function(e,t){},f.prototype.onCollisionExit=function(e,t){},f.prototype.createCannonSui=function(e){var t=cc.instantiate(this.peaSuiPre);t.parent=cc.find("Canvas/targetBoomNode"),t.position=e.position,t.scale=e.scale,t.angle=e.angle;for(var n=0;n<t.children.length;n++)t.children[n].runAction(cc.sequence(cc.spawn(cc.moveBy(.25,r.default.RandomInteger(-70,70),r.default.RandomInteger(-70,70)),cc.rotateBy(.5,r.default.RandomInteger(-360,360))),cc.fadeOut(1),cc.callFunc(function(){t.destroy()})))},a([t(cc.Prefab)],f.prototype,"peaSuiPre",void 0),a([e],f));function f(){var e=null!==i&&i.apply(this,arguments)||this;return e.shellNode=null,e.player=null,e.shootInter=2,e.shootTime=0,e.cannonNumber=0,e.peaSuiPre=null,e}n.default=e,cc._RF.pop()},{"../Common/PoolManager":"PoolManager","../Common/Utils":"Utils","../common/PlayerInfo":"PlayerInfo","./AudioManager":"AudioManager","./GameFunction":"GameFunction","./MainGameUi":"MainGameUi"}],resArr:[function(e,t,n){"use strict";cc._RF.push(t,"8a68e/WQz1Feo++msjg6z8R","resArr"),cc.Class({extends:cc.Component,properties:{SpriteFrameArr:[cc.SpriteFrame],PrefabArr:[cc.Prefab],audiosArr:{type:cc.AudioClip,default:[]}},onLoad:function(){null!=ToolsJs&&(ToolsJs.PrefabArrJs=this,ToolsJs.SpriteFrameJs=this,ToolsJs.AudioArrJs=this),this.addPrefabs(),this.addSpriteFrame(),this.audioClipDic={};for(var e=0;e<this.audiosArr.length;e++){var t=this.audiosArr[e];this.audioClipDic[t.name]=t}},playAudio:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.3,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return null!=this.audioClipDic[e]?cc.audioEngine.play(this.audioClipDic[e],n,t):(console.log("没有找到音频："+e),null)},getAudioClip:function(e){return null!=this.audioClipDic[e]?this.audioClipDic[e]:(console.log("没有找到音频："+e),null)},addSpriteFrame:function(){this.spriteArr={};for(var e=0;e<this.SpriteFrameArr.length;e++){var t=this.SpriteFrameArr[e];null!=t&&(this.spriteArr[t.name]=t)}},getSpriteFrame:function(e){return null!=this.spriteArr[e]?this.spriteArr[e]:(console.log("没有添加图片："+e),null)},addPrefabs:function(){this.prefabsArr={};for(var e=0;e<this.PrefabArr.length;e++){var t=this.PrefabArr[e];this.prefabsArr[t.name]=t}},getPrefabs:function(e){return null!=this.prefabsArr[e]?this.prefabsArr[e]:(console.log("没有预制体："+e),null)}}),cc._RF.pop()},{}],startGameJs:[function(e,t,n){"use strict";cc._RF.push(t,"280c3rsZJJKnZ9RqbALVwtK","startGameJs");var o=e("GameUiTools"),c=(e("HttpManagerJs"),e("MainManage")),a=(e("LoadSceneJs"),e("GameConfig"));cc.Class({extends:cc.Component,properties:{showInfoT:cc.Label,startT:cc.Label},onLoad:function(){a.publicGameBool&&c.init(),this.showInfoT.string=c.gameInfoText,this.startT.string=c.txtStartText,this.node.on("touchend",function(e){this.node.x=-2e3},this)},addTouchEvents:function(){var e={event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function(e,t){return o.loadingScene("MainGameScene"),!0},onTouchMoved:function(e,t){},onTouchEnded:function(e,t){}};cc.eventManager.addListener(e,this.node)},update:function(e){}}),cc._RF.pop()},{GameConfig:"GameConfig",GameUiTools:"GameUiTools",HttpManagerJs:"HttpManagerJs",LoadSceneJs:"LoadSceneJs",MainManage:"MainManage"}],startPanel:[function(e,t,n){"use strict";cc._RF.push(t,"d42d3uJR2RCPLKQIl417E7S","startPanel");var o,c=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var c,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;0<=r;r--)(c=e[r])&&(i=(a<3?c(i):3<a?c(t,n,i):c(t,n))||i);return 3<a&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("../Common/Utils"),s=e("../commonJs/GameConfig"),t=cc._decorator,e=t.ccclass,t=t.property,e=(i=cc.Component,c(l,i),l.prototype.onLoad=function(){this.startPanel.setContentSize(cc.winSize.width,cc.winSize.height),this.startPanel.children[0].setContentSize(cc.winSize.width,cc.winSize.height),this.startPanel.children[0].children[0].setContentSize(cc.winSize.width,cc.winSize.height)},l.prototype.start=function(){this.startPanel.children[1].scaleX=0,this.startPanel.children[1].runAction(cc.scaleTo(.5,.9).easing(cc.easeBackOut())),this.startPanel.children[2].runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5,1.1),cc.scaleTo(.5,1),cc.delayTime(.5)))),this.initTitle(),cc.director.preloadScene("MainGameScene")},l.prototype.StartGame=function(){s.publicGameBool||adBreak({type:"next",name:"restart-game"}),this.startBtn.stopAllActions(),this.startBtn.runAction(cc.sequence(cc.scaleTo(.1,.8),cc.scaleTo(.1,1),cc.callFunc(function(){cc.director.loadScene("MainGameScene")})))},l.prototype.initTitle=function(){var e=r.default.returnCurrentLanType();1!=e&&(this.titleSpr.getComponent(cc.Sprite).spriteFrame=this.title[e-1]),this.initTitleAni()},l.prototype.initTitleAni=function(){for(var e=0;e<this.titleSpr.children.length;e++){var t=this.titleSpr.children[e],n=.5<=Math.random()?8:-8,o=.8+.3*Math.random();t.runAction(cc.sequence(cc.skewBy(o,n,0),cc.skewBy(o,-n,0),cc.skewBy(o,-n,0),cc.skewBy(o,n,0)).repeatForever())}},a([t(cc.Node)],l.prototype,"startPanel",void 0),a([t(cc.Node)],l.prototype,"titleSpr",void 0),a([t(cc.Node)],l.prototype,"startBtn",void 0),a([t(cc.SpriteFrame)],l.prototype,"title",void 0),a([e],l));function l(){var e=null!==i&&i.apply(this,arguments)||this;return e.startPanel=null,e.titleSpr=null,e.startBtn=null,e.title=[],e}n.default=e,cc._RF.pop()},{"../Common/Utils":"Utils","../commonJs/GameConfig":"GameConfig"}],"use_v2.1.x_cc.Action":[function(e,t,n){"use strict";cc._RF.push(t,"ce2acozQx1Dq7kOhKg5RkBi","use_v2.1.x_cc.Action"),cc.macro.ROTATE_ACTION_CCW=!0,cc._RF.pop()},{}],wineObsmove:[function(e,t,n){"use strict";cc._RF.push(t,"589ae7WabhNKbjjj1cMrAIM","wineObsmove");var o,c=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var c,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;0<=r;r--)(c=e[r])&&(i=(a<3?c(i):3<a?c(t,n,i):c(t,n))||i);return 3<a&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("./GameFunction"),t=cc._decorator,e=t.ccclass,e=(t.property,i=cc.Component,c(s,i),s.prototype.onLoad=function(){},s.prototype.update=function(e){this.isMove&&(this.node.x+=r.default.Instance.lvdaiSpeed)},a([e],s));function s(){var e=null!==i&&i.apply(this,arguments)||this;return e.isMove=!1,e}n.default=e,cc._RF.pop()},{"./GameFunction":"GameFunction"}],winerCollision:[function(e,t,n){"use strict";cc._RF.push(t,"3ea89nQCdpP9II/GHC3tXOf","winerCollision");var o,c=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var c,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;0<=r;r--)(c=e[r])&&(i=(a<3?c(i):3<a?c(t,n,i):c(t,n))||i);return 3<a&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("../common/PlayerInfo"),s=e("../Common/PoolManager"),l=e("../Common/Utils"),u=e("./AudioManager"),d=e("./GameFunction"),p=e("./GameManager"),t=cc._decorator,e=t.ccclass,t=t.property,e=(i=cc.Component,c(f,i),f.prototype.onLoad=function(){this.wineColorStr1.push("eba51f","eba51f","eba51f","eba51f","87c5ff","87c5ff","87c5ff","87c5ff","87c5ff","87c5ff"),this.wineColorStr2.push("fed74a","fed74a","fed74a","fed74a","b7fbff","b7fbff","b7fbff","b7fbff","b7fbff","b7fbff")},f.prototype.start=function(){},f.prototype.update=function(e){this.isMove&&(this.node.x+=d.default.Instance.lvdaiSpeed),500<=this.node.x&&s.default.Despawn(this.node.name,this.node)},f.prototype.onCollisionEnter=function(e,t){"wine"==e.node.group&&(this.createWineSa(t.node),this.createWineSuiPian(t.node),t.node.active=!1,r.default.playerTouch&&(p.default.Instance.ToEnd(),r.default.playerTouch=!1))},f.prototype.createWineSuiPian=function(e){u.default.Instance.Play(0,!1,1);var t=s.default.Spawn(e.name.concat("SP"),cc.find("Canvas/targetWineNodeQ"));t.position=e.position,t.angle=e.angle,t.scale=e.scale;for(var n=0;n<t.children.length;n++)t.children[n].runAction(cc.spawn(cc.sequence(cc.jumpBy(1,l.default.RandomInteger(-500,50),l.default.RandomInteger(-2e3,-1600),500,1),cc.fadeOut(.5)),cc.rotateBy(1,l.default.RandomInteger(-860,860))))},f.prototype.createWineSa=function(e){for(var t,n=l.default.RandomInteger(35,40),o=0;o<n/2;o++)(t=s.default.Spawn("juicePre",cc.find("Canvas/upEffectParent"))).color=(new cc.Color).fromHEX(this.wineColorStr1[this.wineType-1]),t.position=e.position,t.scale=.5,t.runAction(cc.spawn(cc.jumpBy(1,l.default.RandomInteger(-300,50),l.default.RandomInteger(-400,-200),l.default.RandomInteger(100,150),1),cc.fadeOut(1)));for(o=0;o<n/2;o++)(t=s.default.Spawn("juicePre",cc.find("Canvas/upEffectParent"))).color=(new cc.Color).fromHEX(this.wineColorStr2[this.wineType-1]),t.position=e.position,t.scale=.5,t.runAction(cc.spawn(cc.jumpBy(1,l.default.RandomInteger(-300,50),l.default.RandomInteger(-400,-200),l.default.RandomInteger(100,150),1),cc.fadeOut(1)))},a([t()],f.prototype,"wineType",void 0),a([e],f));function f(){var e=null!==i&&i.apply(this,arguments)||this;return e.wineType=0,e.isMove=!1,e.wineColorStr1=[],e.wineColorStr2=[],e}n.default=e,cc._RF.pop()},{"../Common/PoolManager":"PoolManager","../Common/Utils":"Utils","../common/PlayerInfo":"PlayerInfo","./AudioManager":"AudioManager","./GameFunction":"GameFunction","./GameManager":"GameManager"}]},{},["HttpManagerJs","LanguageSetJs","LoadSceneJs","AniTools","MainGameJS","ToolsJs","resArr","MainManage","AddScore","AdjusWithHeight","AudioManager","AutoDestroy","DataManager","EffectCenter","FailedUi","GameFunction","GameManager","InputController","KnifeCollision","MainGameUi","NewAttribute","PhysicsParticle","Rocker","RotateAround","Stack","WallUpdate","fruitData","peaCannonAI","startPanel","wineObsmove","winerCollision","GameConfig","GameUiTools","DynamicLoad","EffectSprite","PlayerInfo","PoolManager","RandomFly","RenderWater","Shake","SpriteManager","Toast","Utils","bfPrefabJs","gameOverJs","linkHttpIconJs","startGameJs","use_v2.1.x_cc.Action"]);
